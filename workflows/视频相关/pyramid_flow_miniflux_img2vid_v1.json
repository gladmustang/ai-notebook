{
  "last_node_id": 77,
  "last_link_id": 115,
  "nodes": [
    {
      "id": 50,
      "type": "PyramidFlowSampler",
      "pos": {
        "0": 775.7659912109375,
        "1": 189.8643798828125
      },
      "size": {
        "0": 315,
        "1": 314
      },
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "PYRAMIDFLOWMODEL",
          "link": 74,
          "label": "model"
        },
        {
          "name": "prompt_embeds",
          "type": "PYRAMIDFLOWPROMPT",
          "link": 81,
          "label": "prompt_embeds"
        },
        {
          "name": "input_latent",
          "type": "LATENT",
          "link": 83,
          "shape": 7,
          "label": "input_latent"
        },
        {
          "name": "width",
          "type": "INT",
          "link": 94,
          "widget": {
            "name": "width"
          },
          "label": "width"
        },
        {
          "name": "height",
          "type": "INT",
          "link": 95,
          "widget": {
            "name": "height"
          },
          "label": "height"
        }
      ],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "links": [
            76
          ],
          "label": "samples"
        }
      ],
      "properties": {
        "Node name for S&R": "PyramidFlowSampler"
      },
      "widgets_values": [
        384,
        640,
        "20, 20, 20",
        "10, 10, 10",
        16,
        7,
        4,
        44664248661402,
        "fixed",
        false
      ]
    },
    {
      "id": 51,
      "type": "VHS_VideoCombine",
      "pos": {
        "0": 1149.7657470703125,
        "1": 158.8643798828125
      },
      "size": [
        1018.2306518554688,
        310
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 77,
          "label": "images"
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "link": null,
          "shape": 7,
          "label": "audio"
        },
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "link": null,
          "shape": 7,
          "label": "meta_batch"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null,
          "shape": 7,
          "label": "vae"
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null,
          "label": "Filenames"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 24,
        "loop_count": 0,
        "filename_prefix": "PyramidFlow",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "PyramidFlow_00131.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 24
          },
          "muted": false
        }
      }
    },
    {
      "id": 61,
      "type": "Seed (rgthree)",
      "pos": {
        "0": -368.9285583496094,
        "1": -1414.86083984375
      },
      "size": {
        "0": 210,
        "1": 130
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "SEED",
          "type": "INT",
          "links": [
            98
          ],
          "slot_index": 0,
          "shape": 3,
          "dir": 4,
          "label": "SEED"
        }
      ],
      "properties": {},
      "widgets_values": [
        522482863259118,
        null,
        null,
        null
      ]
    },
    {
      "id": 62,
      "type": "Florence2Run",
      "pos": {
        "0": -90.92849731445312,
        "1": -1158.86083984375
      },
      "size": {
        "0": 280.8445129394531,
        "1": 304
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 96,
          "label": "image"
        },
        {
          "name": "florence2_model",
          "type": "FL2MODEL",
          "link": 97,
          "label": "florence2_model"
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 98,
          "widget": {
            "name": "seed"
          },
          "label": "seed"
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": null,
          "shape": 3,
          "label": "image"
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "mask"
        },
        {
          "name": "caption",
          "type": "STRING",
          "links": [
            99,
            108
          ],
          "slot_index": 2,
          "shape": 3,
          "label": "caption"
        },
        {
          "name": "data",
          "type": "JSON",
          "links": null,
          "shape": 3,
          "label": "data"
        }
      ],
      "properties": {
        "Node name for S&R": "Florence2Run"
      },
      "widgets_values": [
        "",
        "more_detailed_caption",
        true,
        false,
        1024,
        3,
        true,
        "",
        7822158054856,
        "randomize"
      ]
    },
    {
      "id": 63,
      "type": "DownloadAndLoadFlorence2Model",
      "pos": {
        "0": -382.42474365234375,
        "1": -1155.1544189453125
      },
      "size": {
        "0": 243.60000610351562,
        "1": 106
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "name": "lora",
          "type": "PEFTLORA",
          "link": null,
          "shape": 7,
          "label": "lora"
        }
      ],
      "outputs": [
        {
          "name": "florence2_model",
          "type": "FL2MODEL",
          "links": [
            97
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "florence2_model"
        }
      ],
      "properties": {
        "Node name for S&R": "DownloadAndLoadFlorence2Model"
      },
      "widgets_values": [
        "microsoft/Florence-2-large",
        "fp16",
        "sdpa"
      ]
    },
    {
      "id": 65,
      "type": "ShowText|pysssss",
      "pos": {
        "0": 247.03929138183594,
        "1": -1162.2122802734375
      },
      "size": {
        "0": 313.7864074707031,
        "1": 264.2146911621094
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 99,
          "widget": {
            "name": "text"
          },
          "label": "text"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": null,
          "shape": 6,
          "label": "STRING"
        }
      ],
      "title": "Extracted Caption",
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "The image is a digital illustration of a young woman with long blue hair and a crown on her head. She is sitting on the edge of a body of water with white flowers floating around her. The woman is wearing a blue dress with a plunging neckline and a ruffled skirt that falls over her knees. She has a necklace and earrings on her neck and is looking directly at the camera with a serious expression. The background is a gradient of blue and purple, with a hint of pink and white. The overall mood of the image is dreamy and ethereal."
      ]
    },
    {
      "id": 66,
      "type": "WD14Tagger|pysssss",
      "pos": {
        "0": -376.9285888671875,
        "1": -736.862060546875
      },
      "size": {
        "0": 254.576416015625,
        "1": 239.3846893310547
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 100,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            111
          ],
          "slot_index": 0,
          "shape": 6,
          "label": "STRING"
        }
      ],
      "properties": {
        "Node name for S&R": "WD14Tagger|pysssss"
      },
      "widgets_values": [
        "wd-swinv2-tagger-v3",
        0.35,
        0.85,
        true,
        false,
        "",
        "1girl, solo, long hair, breasts, looking at viewer, blue eyes, large breasts, hair ornament, dress, closed mouth, cleavage, jewelry, bare shoulders, sitting, purple hair, flower, earrings, water, bracelet, bare legs, blue dress"
      ]
    },
    {
      "id": 74,
      "type": "Text Concatenate",
      "pos": {
        "0": -90.92849731445312,
        "1": -721.862060546875
      },
      "size": {
        "0": 315,
        "1": 178
      },
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "text_a",
          "type": "STRING",
          "link": 111,
          "widget": {
            "name": "text_a"
          },
          "shape": 7,
          "label": "text_a"
        },
        {
          "name": "text_b",
          "type": "STRING",
          "link": 112,
          "widget": {
            "name": "text_b"
          },
          "shape": 7,
          "label": "text_b"
        },
        {
          "name": "text_c",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "text_c"
          },
          "shape": 7,
          "label": "text_c"
        },
        {
          "name": "text_d",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "text_d"
          },
          "shape": 7,
          "label": "text_d"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            101,
            110
          ],
          "slot_index": 0,
          "label": "STRING"
        }
      ],
      "properties": {
        "Node name for S&R": "Text Concatenate"
      },
      "widgets_values": [
        ", ",
        "true",
        "",
        "",
        "",
        ""
      ]
    },
    {
      "id": 54,
      "type": "PyramidFlowVAEEncode",
      "pos": {
        "0": 743.76611328125,
        "1": 805.8643188476562
      },
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "PYRAMIDFLOWVAE",
          "link": 82,
          "label": "vae"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 89,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "links": [
            83
          ],
          "slot_index": 0,
          "label": "samples"
        }
      ],
      "properties": {
        "Node name for S&R": "PyramidFlowVAEEncode"
      },
      "widgets_values": [
        false
      ]
    },
    {
      "id": 77,
      "type": "Reroute",
      "pos": {
        "0": -235.2342529296875,
        "1": 82.86438751220703
      },
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 114,
          "label": "",
          "widget": {
            "name": "value"
          }
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "STRING",
          "links": [
            115
          ],
          "slot_index": 0,
          "label": ""
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 39,
      "type": "Note",
      "pos": {
        "0": -329.23419189453125,
        "1": 690.8643188476562
      },
      "size": {
        "0": 318.25567626953125,
        "1": 66.4825210571289
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "fp8 text encoder results are different from fp16!"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 67,
      "type": "ShowText|pysssss",
      "pos": {
        "0": 254.78762817382812,
        "1": -725.430419921875
      },
      "size": {
        "0": 294.3976135253906,
        "1": 239.57830810546875
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 101,
          "widget": {
            "name": "text"
          },
          "label": "text"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": null,
          "shape": 6,
          "label": "STRING"
        }
      ],
      "title": "Extracted Tags",
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "1girl, solo, long hair, breasts, looking at viewer, blue eyes, large breasts, hair ornament, dress, closed mouth, cleavage, jewelry, bare shoulders, sitting, purple hair, flower, earrings, water, bracelet, bare legs, blue dress, girl crying with tears, sad,"
      ]
    },
    {
      "id": 73,
      "type": "Text Multiline",
      "pos": {
        "0": 1411,
        "1": -1184
      },
      "size": {
        "0": 227.6136932373047,
        "1": 101.48550415039062
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            107
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "STRING"
        }
      ],
      "title": "User Prompt Template",
      "properties": {
        "Node name for S&R": "Text Multiline"
      },
      "widgets_values": [
        "CAPTION\n\nTAGS."
      ]
    },
    {
      "id": 71,
      "type": "String Replace (mtb)",
      "pos": {
        "0": 1706,
        "1": -1163
      },
      "size": {
        "0": 230.60655212402344,
        "1": 78
      },
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "string",
          "type": "STRING",
          "link": 107,
          "widget": {
            "name": "string"
          },
          "label": "string"
        },
        {
          "name": "new",
          "type": "STRING",
          "link": 108,
          "widget": {
            "name": "new"
          },
          "label": "new"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            109
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "STRING"
        }
      ],
      "properties": {
        "Node name for S&R": "String Replace (mtb)"
      },
      "widgets_values": [
        "",
        "CAPTION",
        ""
      ]
    },
    {
      "id": 72,
      "type": "String Replace (mtb)",
      "pos": {
        "0": 1661,
        "1": -988
      },
      "size": {
        "0": 237.93055725097656,
        "1": 78
      },
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "string",
          "type": "STRING",
          "link": 109,
          "widget": {
            "name": "string"
          },
          "label": "string"
        },
        {
          "name": "new",
          "type": "STRING",
          "link": 110,
          "widget": {
            "name": "new"
          },
          "label": "new"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            103
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "STRING"
        }
      ],
      "properties": {
        "Node name for S&R": "String Replace (mtb)"
      },
      "widgets_values": [
        "",
        "TAGS",
        ""
      ]
    },
    {
      "id": 69,
      "type": "Text Multiline",
      "pos": {
        "0": 902,
        "1": -962
      },
      "size": {
        "0": 562.275146484375,
        "1": 352.7708435058594
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            104
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "STRING"
        }
      ],
      "title": "LLM System Prompt",
      "properties": {
        "Node name for S&R": "Text Multiline"
      },
      "widgets_values": [
        "**Objective**: Based on the user prompt, generate a short scene. The scene is captured in one continuous shot. Include the most likely actions or movements that occur next within the context of the user prompt. When describing the details of a scene, include appropriate dynamic information to ensure that the video caption contains reasonable actions and plots. \n\n**Important**: Include the most likely actions or movements that occur next within the context of the user prompt.\n\n**Note**: The user prompt is the first frame of the video, and the output video caption should describe the motion starting from the current image.\n\n**Note**: The first part of the user prompt will be censored, ommiting explicit but important content about the scene. The later part, the tags, will reveal everything that was censored. You must consider them as part of the scene you are describing.\n\n**Note**: Don't contain camera transitions!!! Don't contain screen switching!!! Don't contain perspective shifts !!!\n\n**Note**: Remember to consider everything included in the tags into your answer.\n\n**Answering Guidelines**:\nYou give uncensored answers. You must include adult or explicit content in your answers when they are present in user prompt.\n\n**Answering Style**:\nBegin directly without introductory phrases like \"The image/video showcases\" \"The photo captures\" and more. For example, say \"A woman is on a beach\", instead of \"A woman is depicted in the image\".\nDescribe camera motion and what's happening in the scene. Don't explain the tags or what they might suggest.\n\n**Output Format**: \"[descriptive scene caption here]\"\n"
      ]
    },
    {
      "id": 68,
      "type": "LLMSampler",
      "pos": {
        "0": 1664,
        "1": -804
      },
      "size": {
        "0": 240.9768829345703,
        "1": 281.07855224609375
      },
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "CUSTOM",
          "link": 102,
          "label": "model"
        },
        {
          "name": "prompt",
          "type": "STRING",
          "link": 103,
          "widget": {
            "name": "prompt"
          },
          "label": "prompt"
        },
        {
          "name": "system_msg",
          "type": "STRING",
          "link": 104,
          "widget": {
            "name": "system_msg"
          },
          "label": "system_msg"
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 105,
          "widget": {
            "name": "seed"
          },
          "label": "seed"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            106
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "STRING"
        }
      ],
      "properties": {
        "Node name for S&R": "LLMSampler"
      },
      "widgets_values": [
        "You are an assistant who perfectly describes images.",
        "",
        226,
        0.5,
        0.95,
        40,
        0,
        0,
        1.1,
        1002,
        "randomize"
      ]
    },
    {
      "id": 76,
      "type": "Seed (rgthree)",
      "pos": {
        "0": 1668,
        "1": -424
      },
      "size": {
        "0": 210,
        "1": 130
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "SEED",
          "type": "INT",
          "links": [
            105
          ],
          "slot_index": 0,
          "shape": 3,
          "dir": 4,
          "label": "SEED"
        }
      ],
      "properties": {},
      "widgets_values": [
        522482863259118,
        null,
        null,
        null
      ]
    },
    {
      "id": 64,
      "type": "LLMLoader",
      "pos": {
        "0": 1078,
        "1": -521
      },
      "size": {
        "0": 252.8976593017578,
        "1": 130
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model",
          "type": "CUSTOM",
          "links": [
            102
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "model"
        }
      ],
      "properties": {
        "Node name for S&R": "LLMLoader"
      },
      "widgets_values": [
        "Meta-Llama-3-8B-Instruct.Q4_K_M.gguf",
        2048,
        100,
        8
      ]
    },
    {
      "id": 70,
      "type": "ShowText|pysssss",
      "pos": {
        "0": 2014,
        "1": -797
      },
      "size": {
        "0": 688.545654296875,
        "1": 176.09783935546875
      },
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 106,
          "widget": {
            "name": "text"
          },
          "label": "text"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            114
          ],
          "slot_index": 0,
          "shape": 6,
          "label": "STRING"
        }
      ],
      "title": "Final Prompt",
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "A woman with long blue hair and a crown on her head is sitting on the edge of a body of water, surrounded by white flowers. She's wearing a blue dress that plunges low in the front, revealing a glimpse of cleavage. Her eyes are fixed directly on the viewer, her expression serious and slightly sorrowful. The fabric of her dress ruffles around her knees as she sits, and her bare shoulders and legs are visible beneath the flowing garment. A necklace and earrings adorn her neck, adding to the dreamy, ethereal atmosphere of the scene. As she looks out at the viewer, tears well up in her eyes, hinting at a deep sadness or distress."
      ]
    },
    {
      "id": 60,
      "type": "LoadImage",
      "pos": {
        "0": -1470,
        "1": -406
      },
      "size": {
        "0": 557.8034057617188,
        "1": 715.3848876953125
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            96,
            100,
            113
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "IMAGE"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "MASK"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "ComfyUI_temp_qirap_00002_.png",
        "image"
      ]
    },
    {
      "id": 75,
      "type": "String Literal",
      "pos": {
        "0": -106.92849731445312,
        "1": -417.8617858886719
      },
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            112
          ],
          "label": "STRING"
        }
      ],
      "properties": {
        "Node name for S&R": "String Literal"
      },
      "widgets_values": [
        "girl crying with tears, sad,"
      ]
    },
    {
      "id": 43,
      "type": "PyramidFlowVAELoader",
      "pos": {
        "0": -20.23419761657715,
        "1": 327.8644104003906
      },
      "size": {
        "0": 411.12652587890625,
        "1": 82
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "compile_args",
          "type": "MOCHICOMPILEARGS",
          "link": null,
          "shape": 7,
          "label": "compile_args"
        }
      ],
      "outputs": [
        {
          "name": "pyramidflow_vae",
          "type": "PYRAMIDFLOWVAE",
          "links": [
            71,
            82
          ],
          "slot_index": 0,
          "label": "pyramidflow_vae"
        }
      ],
      "properties": {
        "Node name for S&R": "PyramidFlowVAELoader"
      },
      "widgets_values": [
        "pyramid_flow_vae_bf16.safetensors",
        "bf16"
      ]
    },
    {
      "id": 53,
      "type": "PyramidFlowTextEncode",
      "pos": {
        "0": 173,
        "1": 481
      },
      "size": {
        "0": 437.19818115234375,
        "1": 269.9795837402344
      },
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 80,
          "label": "clip"
        },
        {
          "name": "positive_prompt",
          "type": "STRING",
          "link": 115,
          "widget": {
            "name": "positive_prompt"
          },
          "label": "positive_prompt"
        }
      ],
      "outputs": [
        {
          "name": "prompt_embeds",
          "type": "PYRAMIDFLOWPROMPT",
          "links": [
            81
          ],
          "slot_index": 0,
          "label": "prompt_embeds"
        }
      ],
      "properties": {
        "Node name for S&R": "PyramidFlowTextEncode"
      },
      "widgets_values": [
        "FPV flying over seaside cliffs while the sun is setting, hyper quality, Ultra HD, 8K",
        "cartoon style, worst quality, low quality, blurry, absolute black, absolute white, low res, extra limbs, extra digits, misplaced objects, mutated anatomy, monochrome, horror",
        true
      ]
    },
    {
      "id": 57,
      "type": "ImageScale",
      "pos": {
        "0": 364,
        "1": 879
      },
      "size": {
        "0": 315,
        "1": 130
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 113,
          "label": "image"
        },
        {
          "name": "width",
          "type": "INT",
          "link": 91,
          "widget": {
            "name": "width"
          },
          "label": "width"
        },
        {
          "name": "height",
          "type": "INT",
          "link": 93,
          "widget": {
            "name": "height"
          },
          "label": "height"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            89
          ],
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScale"
      },
      "widgets_values": [
        "lanczos",
        384,
        640,
        "center"
      ]
    },
    {
      "id": 48,
      "type": "PyramidFlowVAEDecode",
      "pos": {
        "0": 761,
        "1": 592
      },
      "size": {
        "0": 315,
        "1": 126
      },
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "PYRAMIDFLOWVAE",
          "link": 71,
          "label": "vae"
        },
        {
          "name": "samples",
          "type": "LATENT",
          "link": 76,
          "label": "samples"
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            77
          ],
          "slot_index": 0,
          "label": "images"
        }
      ],
      "properties": {
        "Node name for S&R": "PyramidFlowVAEDecode"
      },
      "widgets_values": [
        256,
        2,
        true
      ]
    },
    {
      "id": 37,
      "type": "DualCLIPLoader",
      "pos": {
        "0": -351.23419189453125,
        "1": 518.8644409179688
      },
      "size": {
        "0": 407.1675720214844,
        "1": 106
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            80
          ],
          "slot_index": 0,
          "label": "CLIP"
        }
      ],
      "properties": {
        "Node name for S&R": "DualCLIPLoader"
      },
      "widgets_values": [
        "clip_l.safetensors",
        "t5xxl_fp8_e4m3fn.safetensors",
        "flux"
      ]
    },
    {
      "id": 40,
      "type": "PyramidFlowTransformerLoader",
      "pos": {
        "0": -45.23420715332031,
        "1": 185.8643798828125
      },
      "size": {
        "0": 444.05462646484375,
        "1": 106
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "compile_args",
          "type": "MOCHICOMPILEARGS",
          "link": null,
          "shape": 7,
          "label": "compile_args"
        }
      ],
      "outputs": [
        {
          "name": "pyramidflow_model",
          "type": "PYRAMIDFLOWMODEL",
          "links": [
            74
          ],
          "slot_index": 0,
          "label": "pyramidflow_model"
        }
      ],
      "properties": {
        "Node name for S&R": "PyramidFlowTransformerLoader"
      },
      "widgets_values": [
        "pyramid_flow_miniflux_bf16_v2.safetensors",
        "fp8_e4m3fn",
        true
      ]
    },
    {
      "id": 58,
      "type": "PrimitiveNode",
      "pos": {
        "0": 38.765743255615234,
        "1": 867.8643188476562
      },
      "size": {
        "0": 256.92181396484375,
        "1": 82
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            91,
            94
          ],
          "slot_index": 0,
          "widget": {
            "name": "width"
          },
          "label": "INT"
        }
      ],
      "title": "width",
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        384,
        "fixed"
      ]
    },
    {
      "id": 59,
      "type": "PrimitiveNode",
      "pos": {
        "0": 53.76573944091797,
        "1": 1002.8643188476562
      },
      "size": {
        "0": 251.2918701171875,
        "1": 82
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            93,
            95
          ],
          "slot_index": 0,
          "widget": {
            "name": "height"
          },
          "label": "INT"
        }
      ],
      "title": "height",
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        640,
        "fixed"
      ]
    }
  ],
  "links": [
    [
      71,
      43,
      0,
      48,
      0,
      "PYRAMIDFLOWVAE"
    ],
    [
      74,
      40,
      0,
      50,
      0,
      "PYRAMIDFLOWMODEL"
    ],
    [
      76,
      50,
      0,
      48,
      1,
      "LATENT"
    ],
    [
      77,
      48,
      0,
      51,
      0,
      "IMAGE"
    ],
    [
      80,
      37,
      0,
      53,
      0,
      "CLIP"
    ],
    [
      81,
      53,
      0,
      50,
      1,
      "PYRAMIDFLOWPROMPT"
    ],
    [
      82,
      43,
      0,
      54,
      0,
      "PYRAMIDFLOWVAE"
    ],
    [
      83,
      54,
      0,
      50,
      2,
      "LATENT"
    ],
    [
      89,
      57,
      0,
      54,
      1,
      "IMAGE"
    ],
    [
      91,
      58,
      0,
      57,
      1,
      "INT"
    ],
    [
      93,
      59,
      0,
      57,
      2,
      "INT"
    ],
    [
      94,
      58,
      0,
      50,
      3,
      "INT"
    ],
    [
      95,
      59,
      0,
      50,
      4,
      "INT"
    ],
    [
      96,
      60,
      0,
      62,
      0,
      "IMAGE"
    ],
    [
      97,
      63,
      0,
      62,
      1,
      "FL2MODEL"
    ],
    [
      98,
      61,
      0,
      62,
      2,
      "INT"
    ],
    [
      99,
      62,
      2,
      65,
      0,
      "STRING"
    ],
    [
      100,
      60,
      0,
      66,
      0,
      "IMAGE"
    ],
    [
      101,
      74,
      0,
      67,
      0,
      "STRING"
    ],
    [
      102,
      64,
      0,
      68,
      0,
      "CUSTOM"
    ],
    [
      103,
      72,
      0,
      68,
      1,
      "STRING"
    ],
    [
      104,
      69,
      0,
      68,
      2,
      "STRING"
    ],
    [
      105,
      76,
      0,
      68,
      3,
      "INT"
    ],
    [
      106,
      68,
      0,
      70,
      0,
      "STRING"
    ],
    [
      107,
      73,
      0,
      71,
      0,
      "STRING"
    ],
    [
      108,
      62,
      2,
      71,
      1,
      "STRING"
    ],
    [
      109,
      71,
      0,
      72,
      0,
      "STRING"
    ],
    [
      110,
      74,
      0,
      72,
      1,
      "STRING"
    ],
    [
      111,
      66,
      0,
      74,
      0,
      "STRING"
    ],
    [
      112,
      75,
      0,
      74,
      1,
      "STRING"
    ],
    [
      113,
      60,
      0,
      57,
      0,
      "IMAGE"
    ],
    [
      114,
      70,
      0,
      77,
      0,
      "*"
    ],
    [
      115,
      77,
      0,
      53,
      1,
      "STRING"
    ]
  ],
  "groups": [
    {
      "title": "video generation",
      "bounding": [
        -361,
        39,
        2539,
        1056
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "prompt generation",
      "bounding": [
        -392,
        -1489,
        3233,
        1379
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 1.7088742511246007,
      "offset": [
        367.9215658501962,
        -509.28852265648266
      ]
    }
  },
  "version": 0.4
}