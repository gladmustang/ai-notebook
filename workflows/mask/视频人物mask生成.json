{"last_node_id":40,"last_link_id":54,"nodes":[{"id":10,"type":"Florence2Run","pos":[2890,1183],"size":[383.4363098144531,352],"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":52,"label":"image"},{"name":"florence2_model","type":"FL2MODEL","link":12,"label":"florence2_model"}],"outputs":[{"name":"image","type":"IMAGE","links":[],"slot_index":0,"shape":3,"label":"image"},{"name":"mask","type":"MASK","links":[],"slot_index":1,"shape":3,"label":"mask"},{"name":"caption","type":"STRING","links":null,"shape":3,"label":"caption"},{"name":"data","type":"JSON","links":[13,29],"slot_index":3,"shape":3,"label":"data"}],"properties":{"Node name for S&R":"Florence2Run"},"widgets_values":["torso, arm, head, leg, feet,","caption_to_phrase_grounding",true,false,1024,3,true,"0",659420044783411,"fixed"],"color":"#233","bgcolor":"#355"},{"id":11,"type":"Florence2toCoordinates","pos":[2903.586181640625,1601.43017578125],"size":[315,102],"flags":{"collapsed":false},"order":16,"mode":0,"inputs":[{"name":"data","type":"JSON","link":13,"label":"data"}],"outputs":[{"name":"center_coordinates","type":"STRING","links":[22],"slot_index":0,"shape":3,"label":"center_coordinates"},{"name":"bboxes","type":"BBOX","links":null,"slot_index":1,"shape":3,"label":"bboxes"}],"properties":{"Node name for S&R":"Florence2toCoordinates","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":["0,1,2,3,4,5,6,7,8,9",true],"color":"#2a363b","bgcolor":"#3f5159"},{"id":12,"type":"ImageAndMaskPreview","pos":[5076.76171875,2928.210693359375],"size":[228.31134033203125,126.507080078125],"flags":{},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":14,"shape":7,"label":"image"},{"name":"mask","type":"MASK","link":42,"shape":7,"label":"mask"}],"outputs":[{"name":"composite","type":"IMAGE","links":[17],"slot_index":0,"shape":3,"label":"composite"}],"properties":{"Node name for S&R":"ImageAndMaskPreview"},"widgets_values":[1,"255, 0, 0",true],"color":"#233","bgcolor":"#355"},{"id":13,"type":"ImageFromBatch","pos":[2702,1024],"size":[315,82],"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":16,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[52],"slot_index":0,"shape":3,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageFromBatch","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":[51,1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":14,"type":"FileNamePrefixDateDirFirst","pos":[5052.76171875,3509.213134765625],"size":[315,130],"flags":{"collapsed":false},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"filename_prefix","type":"STRING","links":[18],"slot_index":0,"shape":3,"label":"filename_prefix"}],"title":"FileNamePrefixDateDirFirst","properties":{"Node name for S&R":"FileNamePrefixDateDirFirst"},"widgets_values":["true","true","masks",""],"color":"#233","bgcolor":"#355"},{"id":15,"type":"VHS_VideoCombine","pos":[5554.76171875,2909.210693359375],"size":[315.5752868652344,835.6928100585938],"flags":{},"order":23,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":17,"shape":7,"label":"images"},{"name":"audio","type":"AUDIO","link":null,"shape":7,"label":"audio"},{"name":"meta_batch","type":"VHS_BatchManager","link":null,"shape":7,"label":"meta_batch"},{"name":"vae","type":"VAE","link":null,"shape":7,"label":"vae"},{"name":"filename_prefix","type":"STRING","link":18,"widget":{"name":"filename_prefix"},"label":"filename_prefix"},{"name":"frame_rate","type":"*","link":19,"widget":{"name":"frame_rate"},"label":"frame_rate"}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"label":"Filenames"}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":11,"save_metadata":true,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"241122153146_00003.mp4","subfolder":"241122\\masks","type":"temp","format":"video/h264-mp4","frame_rate":24},"muted":false}},"color":"#322","bgcolor":"#533"},{"id":16,"type":"Sam2Segmentation","pos":[2948,1799],"size":[268.7071533203125,182],"flags":{},"order":18,"mode":0,"inputs":[{"name":"sam2_model","type":"SAM2MODEL","link":20,"label":"sam2_model"},{"name":"image","type":"IMAGE","link":21,"label":"image"},{"name":"bboxes","type":"BBOX","link":null,"shape":7,"label":"bboxes"},{"name":"mask","type":"MASK","link":null,"shape":7,"label":"mask"},{"name":"coordinates_positive","type":"STRING","link":22,"widget":{"name":"coordinates_positive"},"shape":7,"label":"coordinates_positive"},{"name":"coordinates_negative","type":"STRING","link":null,"widget":{"name":"coordinates_negative"},"shape":7,"label":"coordinates_negative"}],"outputs":[{"name":"mask","type":"MASK","links":[26,41],"slot_index":0,"label":"mask"}],"properties":{"Node name for S&R":"Sam2Segmentation"},"widgets_values":[true,"","",false],"color":"#2a363b","bgcolor":"#3f5159"},{"id":17,"type":"ImageConstant","pos":[5018.76171875,3277.211669921875],"size":[328.5798645019531,146.77842712402344],"flags":{},"order":13,"mode":0,"inputs":[{"name":"width","type":"INT","link":23,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":24,"widget":{"name":"height"},"label":"height"},{"name":"batch_size","type":"INT","link":25,"widget":{"name":"batch_size"},"label":"batch_size"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[14],"slot_index":0,"shape":3,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageConstant","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":[512,512,1,0,0,0],"color":"#2a363b","bgcolor":"#3f5159"},{"id":18,"type":"DownloadAndLoadSAM2Model","pos":[2523,1593],"size":[286.3782043457031,130],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"sam2_model","type":"SAM2MODEL","links":[20],"slot_index":0,"shape":3,"label":"sam2_model"}],"properties":{"Node name for S&R":"DownloadAndLoadSAM2Model"},"widgets_values":["sam2_hiera_large.safetensors","video","cuda","bf16"],"color":"#233","bgcolor":"#355"},{"id":19,"type":"DownloadAndLoadFlorence2Model","pos":[2505,1356],"size":[294.5975341796875,106],"flags":{},"order":2,"mode":0,"inputs":[{"name":"lora","type":"PEFTLORA","link":null,"shape":7,"label":"lora"}],"outputs":[{"name":"florence2_model","type":"FL2MODEL","links":[12],"slot_index":0,"label":"florence2_model"}],"properties":{"Node name for S&R":"DownloadAndLoadFlorence2Model"},"widgets_values":["microsoft/Florence-2-large-ft","fp16","sdpa"],"color":"#233","bgcolor":"#355"},{"id":20,"type":"Reroute","pos":[2076,1434],"size":[75,26],"flags":{},"order":11,"mode":0,"inputs":[{"name":"","type":"*","link":40,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[16,21],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":21,"type":"MaskToImage","pos":[3279,1713],"size":[264.5999755859375,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":26,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[27],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":22,"type":"PreviewImage","pos":[3592,1662],"size":[210,246],"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":27,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":24,"type":"easy showAnything","pos":[3331,1260],"size":[257.52801513671875,184.96119689941406],"flags":{},"order":17,"mode":0,"inputs":[{"name":"anything","type":"*","link":29,"shape":7,"label":"anything"}],"outputs":[{"name":"output","type":"*","links":null,"label":"output"}],"properties":{"Node name for S&R":"easy showAnything"},"widgets_values":["[[[65.34100341796875, 447.3599853515625, 583.7369995117188, 1152.6400146484375], [2.5269999504089355, 620.1599731445312, 187.35899353027344, 1198.719970703125], [116.60299682617188, 55.68000030517578, 460.2749938964844, 412.79998779296875], [132.48699951171875, 1043.8399658203125, 570.0189819335938, 1278.0799560546875], [2.5269999504089355, 1098.8800048828125, 125.98899841308594, 1198.719970703125], [4.692999839782715, 17.279998779296875, 720.9169921875, 1278.0799560546875], [4.692999839782715, 16.0, 720.9169921875, 1278.0799560546875]]]"]},{"id":25,"type":"GetImageSizeAndCount","pos":[1110.087890625,3491.998291015625],"size":[277.20001220703125,86],"flags":{},"order":9,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":54,"label":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[40,46],"slot_index":0,"label":"image"},{"name":"722 width","type":"INT","links":[23],"slot_index":1,"label":"width"},{"name":"1280 height","type":"INT","links":[24],"slot_index":2,"label":"height"},{"name":"258 count","type":"INT","links":[25],"slot_index":3,"label":"count"}],"properties":{"Node name for S&R":"GetImageSizeAndCount"},"widgets_values":[]},{"id":26,"type":"Reroute","pos":[2348,2162],"size":[75,26],"flags":{},"order":10,"mode":0,"inputs":[{"name":"","type":"*","link":35,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"","type":"FLOAT","links":[19],"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":29,"type":"VHS_LoadVideo","pos":[769.0880737304688,3470.998291015625],"size":[247.455078125,262],"flags":{},"order":3,"mode":0,"inputs":[{"name":"meta_batch","type":"VHS_BatchManager","link":null,"shape":7,"label":"meta_batch"},{"name":"vae","type":"VAE","link":null,"shape":7,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[49],"slot_index":0,"label":"IMAGE"},{"name":"frame_count","type":"INT","links":null,"label":"frame_count"},{"name":"audio","type":"AUDIO","links":null,"label":"audio"},{"name":"video_info","type":"VHS_VIDEOINFO","links":[34],"slot_index":3,"label":"video_info"}],"properties":{"Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"AnimateDiff_00160-audio.mp4","force_rate":0,"force_size":"Disabled","custom_width":512,"custom_height":512,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"force_rate":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"filename":"AnimateDiff_00160-audio.mp4","type":"input","format":"video/mp4"},"muted":false}}},{"id":30,"type":"VHS_VideoInfo","pos":[1124.087890625,3744.998291015625],"size":[262,206],"flags":{},"order":8,"mode":0,"inputs":[{"name":"video_info","type":"VHS_VIDEOINFO","link":34,"label":"video_info"}],"outputs":[{"name":"source_fpsðŸŸ¨","type":"FLOAT","links":null,"label":"source_fpsðŸŸ¨"},{"name":"source_frame_countðŸŸ¨","type":"INT","links":null,"label":"source_frame_countðŸŸ¨"},{"name":"source_durationðŸŸ¨","type":"FLOAT","links":null,"label":"source_durationðŸŸ¨"},{"name":"source_widthðŸŸ¨","type":"INT","links":null,"label":"source_widthðŸŸ¨"},{"name":"source_heightðŸŸ¨","type":"INT","links":null,"label":"source_heightðŸŸ¨"},{"name":"loaded_fpsðŸŸ¦","type":"FLOAT","links":[35],"slot_index":5,"label":"loaded_fpsðŸŸ¦"},{"name":"loaded_frame_countðŸŸ¦","type":"INT","links":null,"label":"loaded_frame_countðŸŸ¦"},{"name":"loaded_durationðŸŸ¦","type":"FLOAT","links":null,"label":"loaded_durationðŸŸ¦"},{"name":"loaded_widthðŸŸ¦","type":"INT","links":null,"label":"loaded_widthðŸŸ¦"},{"name":"loaded_heightðŸŸ¦","type":"INT","links":null,"label":"loaded_heightðŸŸ¦"}],"properties":{"Node name for S&R":"VHS_VideoInfo"},"widgets_values":{}},{"id":34,"type":"Yoloworld_ESAM_Zho","pos":[2175.314208984375,3674.611328125],"size":[400,380],"flags":{},"order":12,"mode":2,"inputs":[{"name":"yolo_world_model","type":"YOLOWORLDMODEL","link":38,"slot_index":0,"label":"yolo_world_model"},{"name":"esam_model","type":"ESAMMODEL","link":39,"slot_index":1,"label":"esam_model"},{"name":"image","type":"IMAGE","link":46,"slot_index":2,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"slot_index":0,"shape":3,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[48],"slot_index":1,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"Yoloworld_ESAM_Zho"},"widgets_values":["human, body,",0.02,0.1,2,2,1,true,false,true,true,true,0]},{"id":35,"type":"Yoloworld_ModelLoader_Zho","pos":[2185.314208984375,4144.6103515625],"size":[315,58],"flags":{},"order":4,"mode":2,"inputs":[],"outputs":[{"name":"yolo_world_model","type":"YOLOWORLDMODEL","links":[38],"slot_index":0,"shape":3,"label":"yolo_world_model"}],"properties":{"Node name for S&R":"Yoloworld_ModelLoader_Zho"},"widgets_values":["yolo_world/l"]},{"id":36,"type":"ESAM_ModelLoader_Zho","pos":[2185.314208984375,4264.611328125],"size":[315,58],"flags":{},"order":5,"mode":2,"inputs":[],"outputs":[{"name":"esam_model","type":"ESAMMODEL","links":[39],"slot_index":0,"shape":3,"label":"esam_model"}],"properties":{"Node name for S&R":"ESAM_ModelLoader_Zho"},"widgets_values":["CUDA"]},{"id":37,"type":"Any Switch (rgthree)","pos":[3849,3746],"size":[168,106],"flags":{},"order":20,"mode":0,"inputs":[{"name":"any_01","type":"MASK","link":41,"dir":3,"label":"any_01"},{"name":"any_02","type":"MASK","link":48,"dir":3,"label":"any_02"},{"name":"any_03","type":"MASK","link":null,"dir":3,"label":"any_03"},{"name":"any_04","type":"MASK","link":null,"dir":3,"label":"any_04"},{"name":"any_05","type":"MASK","link":null,"dir":3}],"outputs":[{"name":"*","type":"MASK","links":[42],"slot_index":0,"shape":3,"label":"MASK","dir":4}],"properties":{},"widgets_values":[]},{"id":38,"type":"Fast Groups Muter (rgthree)","pos":[2931,4213],"size":[226.8000030517578,178],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null,"label":"OPT_CONNECTION"}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"}},{"id":39,"type":"ImageResizeKJ","pos":[1059,3106],"size":[310.7047424316406,238],"flags":{},"order":7,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":49,"label":"image"},{"name":"get_image_size","type":"IMAGE","link":null,"shape":7,"label":"get_image_size"},{"name":"width_input","type":"INT","link":null,"widget":{"name":"width_input"},"label":"width_input","shape":7},{"name":"height_input","type":"INT","link":null,"widget":{"name":"height_input"},"label":"height_input","shape":7}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[54],"slot_index":0,"shape":3,"label":"IMAGE"},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ImageResizeKJ"},"widgets_values":[1280,1280,"lanczos",true,2,0,0,"disabled"]}],"links":[[12,19,0,10,1,"FL2MODEL"],[13,10,3,11,0,"JSON"],[14,17,0,12,0,"IMAGE"],[16,20,0,13,0,"IMAGE"],[17,12,0,15,0,"IMAGE"],[18,14,0,15,4,"STRING"],[19,26,0,15,5,"*"],[20,18,0,16,0,"SAM2MODEL"],[21,20,0,16,1,"IMAGE"],[22,11,0,16,4,"STRING"],[23,25,1,17,0,"INT"],[24,25,2,17,1,"INT"],[25,25,3,17,2,"INT"],[26,16,0,21,0,"MASK"],[27,21,0,22,0,"IMAGE"],[29,10,3,24,0,"*"],[34,29,3,30,0,"VHS_VIDEOINFO"],[35,30,5,26,0,"*"],[38,35,0,34,0,"YOLOWORLDMODEL"],[39,36,0,34,1,"ESAMMODEL"],[40,25,0,20,0,"*"],[41,16,0,37,0,"*"],[42,37,0,12,1,"MASK"],[46,25,0,34,2,"IMAGE"],[48,34,1,37,1,"MASK"],[49,29,0,39,0,"IMAGE"],[52,13,0,10,0,"IMAGE"],[54,39,0,25,0,"IMAGE"]],"groups":[{"id":1,"title":"æ–¹æ³•1","bounding":[1991.7718505859375,953.8443603515625,1816.9998779296875,1905.3128662109375],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"output","bounding":[5008.76171875,2835.61083984375,871.5751953125,923.0145263671875],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"input","bounding":[759.0880737304688,3397.398193359375,638.199951171875,563.5999755859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"æ–¹æ³•2","bounding":[2165.314208984375,3601.01123046875,420,731.5999755859375],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.8797616762371823,"offset":[-2486.741884384408,-891.4743734444329]}},"version":0.4}