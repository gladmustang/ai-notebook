{"last_node_id":37,"last_link_id":51,"nodes":[{"id":1,"type":"Florence2Run","pos":[773,423],"size":[383.4363098144531,352],"flags":{},"order":5,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":12,"label":"image"},{"name":"florence2_model","type":"FL2MODEL","link":2,"label":"florence2_model"}],"outputs":[{"name":"image","type":"IMAGE","links":[],"slot_index":0,"shape":3,"label":"image"},{"name":"mask","type":"MASK","links":[],"slot_index":1,"shape":3,"label":"mask"},{"name":"caption","type":"STRING","links":null,"shape":3,"label":"caption"},{"name":"data","type":"JSON","links":[3,10],"slot_index":3,"shape":3,"label":"data"}],"properties":{"Node name for S&R":"Florence2Run"},"widgets_values":["clothes, tops, upper clothes","caption_to_phrase_grounding",true,false,1024,3,true,"0",659420044783411,"fixed"],"color":"#233","bgcolor":"#355"},{"id":2,"type":"Florence2toCoordinates","pos":[799,841],"size":[315,102],"flags":{"collapsed":false},"order":7,"mode":0,"inputs":[{"name":"data","type":"JSON","link":3,"label":"data"}],"outputs":[{"name":"center_coordinates","type":"STRING","links":[7],"slot_index":0,"shape":3,"label":"center_coordinates"},{"name":"bboxes","type":"BBOX","links":null,"slot_index":1,"shape":3,"label":"bboxes"}],"properties":{"Node name for S&R":"Florence2toCoordinates","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":["0,1,2,3,4,5,6,7,8,9",true],"color":"#2a363b","bgcolor":"#3f5159"},{"id":4,"type":"Sam2Segmentation","pos":[831,1035],"size":[268.7071533203125,182],"flags":{},"order":11,"mode":0,"inputs":[{"name":"sam2_model","type":"SAM2MODEL","link":5,"label":"sam2_model"},{"name":"image","type":"IMAGE","link":6,"label":"image"},{"name":"bboxes","type":"BBOX","link":null,"shape":7,"label":"bboxes"},{"name":"mask","type":"MASK","link":null,"shape":7,"label":"mask"},{"name":"coordinates_positive","type":"STRING","link":7,"widget":{"name":"coordinates_positive"},"shape":7,"label":"coordinates_positive"},{"name":"coordinates_negative","type":"STRING","link":null,"widget":{"name":"coordinates_negative"},"shape":7,"label":"coordinates_negative"}],"outputs":[{"name":"mask","type":"MASK","links":[16],"slot_index":0,"label":"mask"}],"properties":{"Node name for S&R":"Sam2Segmentation"},"widgets_values":[true,"","",false],"color":"#2a363b","bgcolor":"#3f5159"},{"id":5,"type":"DownloadAndLoadSAM2Model","pos":[-315.2716064453125,1607.255126953125],"size":[286.3782043457031,130],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"sam2_model","type":"SAM2MODEL","links":[5,27],"slot_index":0,"shape":3,"label":"sam2_model"}],"properties":{"Node name for S&R":"DownloadAndLoadSAM2Model"},"widgets_values":["sam2_hiera_large.safetensors","video","cuda","bf16"],"color":"#233","bgcolor":"#355"},{"id":6,"type":"DownloadAndLoadFlorence2Model","pos":[-317.2716064453125,1416.255126953125],"size":[294.5975341796875,106],"flags":{},"order":1,"mode":0,"inputs":[{"name":"lora","type":"PEFTLORA","link":null,"shape":7,"label":"lora"}],"outputs":[{"name":"florence2_model","type":"FL2MODEL","links":[2,26],"slot_index":0,"label":"florence2_model"}],"properties":{"Node name for S&R":"DownloadAndLoadFlorence2Model"},"widgets_values":["microsoft/Florence-2-large-ft","fp16","sdpa"],"color":"#233","bgcolor":"#355"},{"id":7,"type":"Reroute","pos":[282,1771],"size":[75,26],"flags":{},"order":3,"mode":0,"inputs":[{"name":"","type":"*","link":50,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[6,12,14,25,28,29],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":10,"type":"easy showAnything","pos":[1242,450],"size":[257.52801513671875,184.96119689941406],"flags":{},"order":8,"mode":0,"inputs":[{"name":"anything","type":"*","link":10,"shape":7,"label":"anything"}],"outputs":[{"name":"output","type":"*","links":null,"label":"output"}],"properties":{"Node name for S&R":"easy showAnything"},"widgets_values":["0.2879999876022339,271.87200927734375,575.135986328125,1022.4640502929688,60.19199752807617,270.8480224609375,510.0479736328125,951.8080444335938"]},{"id":12,"type":"LoadImage","pos":[-342,1821],"size":[315,314],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[39,50],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[42],"label":"MASK","slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["PB-_temp_knltl_00001_.png","image"]},{"id":14,"type":"ImageAndMaskPreview","pos":[1189,1184],"size":[228.31134033203125,126.507080078125],"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":14,"shape":7,"label":"image"},{"name":"mask","type":"MASK","link":17,"shape":7,"label":"mask"}],"outputs":[{"name":"composite","type":"IMAGE","links":[15],"slot_index":0,"shape":3,"label":"composite"}],"properties":{"Node name for S&R":"ImageAndMaskPreview"},"widgets_values":[1,"255, 0, 0",true],"color":"#233","bgcolor":"#355"},{"id":15,"type":"PreviewImage","pos":[1463,1216],"size":[210,246],"flags":{},"order":17,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":15,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":16,"type":"InvertMask","pos":[1207,1072],"size":[210,26],"flags":{},"order":13,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":16,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[17],"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"InvertMask"},"widgets_values":[]},{"id":17,"type":"Florence2Run","pos":[771.5401000976562,1719.23486328125],"size":[383.4363098144531,352],"flags":{},"order":6,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":25,"label":"image"},{"name":"florence2_model","type":"FL2MODEL","link":26,"label":"florence2_model"}],"outputs":[{"name":"image","type":"IMAGE","links":[],"slot_index":0,"shape":3,"label":"image"},{"name":"mask","type":"MASK","links":[],"slot_index":1,"shape":3,"label":"mask"},{"name":"caption","type":"STRING","links":null,"shape":3,"label":"caption"},{"name":"data","type":"JSON","links":[19,21],"slot_index":3,"shape":3,"label":"data"}],"properties":{"Node name for S&R":"Florence2Run"},"widgets_values":["tops, crop_top, ","caption_to_phrase_grounding",true,false,1024,3,true,"0",659420044783411,"fixed"],"color":"#233","bgcolor":"#355"},{"id":18,"type":"Florence2toCoordinates","pos":[799.5401000976562,2138.234619140625],"size":[315,102],"flags":{"collapsed":false},"order":9,"mode":0,"inputs":[{"name":"data","type":"JSON","link":19,"label":"data"}],"outputs":[{"name":"center_coordinates","type":"STRING","links":[20],"slot_index":0,"shape":3,"label":"center_coordinates"},{"name":"bboxes","type":"BBOX","links":null,"slot_index":1,"shape":3,"label":"bboxes"}],"properties":{"Node name for S&R":"Florence2toCoordinates","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":["0,1,2,3,4,5,6,7,8,9",true],"color":"#2a363b","bgcolor":"#3f5159"},{"id":19,"type":"Sam2Segmentation","pos":[823,2401],"size":[268.7071533203125,182],"flags":{},"order":12,"mode":0,"inputs":[{"name":"sam2_model","type":"SAM2MODEL","link":27,"label":"sam2_model"},{"name":"image","type":"IMAGE","link":28,"label":"image"},{"name":"bboxes","type":"BBOX","link":null,"shape":7,"label":"bboxes"},{"name":"mask","type":"MASK","link":null,"shape":7,"label":"mask"},{"name":"coordinates_positive","type":"STRING","link":20,"widget":{"name":"coordinates_positive"},"shape":7,"label":"coordinates_positive"},{"name":"coordinates_negative","type":"STRING","link":null,"widget":{"name":"coordinates_negative"},"shape":7,"label":"coordinates_negative"}],"outputs":[{"name":"mask","type":"MASK","links":[24],"slot_index":0,"label":"mask"}],"properties":{"Node name for S&R":"Sam2Segmentation"},"widgets_values":[true,"","",false],"color":"#2a363b","bgcolor":"#3f5159"},{"id":20,"type":"easy showAnything","pos":[1261.540283203125,1773.23486328125],"size":[257.52801513671875,184.96119689941406],"flags":{},"order":10,"mode":0,"inputs":[{"name":"anything","type":"*","link":21,"shape":7,"label":"anything"}],"outputs":[{"name":"output","type":"*","links":null,"label":"output"}],"properties":{"Node name for S&R":"easy showAnything"},"widgets_values":["63.64799880981445,272.8960266113281,488.7359924316406,670.2080078125,63.64799880981445,273.9200134277344,488.15997314453125,670.2080078125"]},{"id":21,"type":"ImageAndMaskPreview","pos":[1190,2481],"size":[228.31134033203125,126.507080078125],"flags":{},"order":16,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":29,"shape":7,"label":"image"},{"name":"mask","type":"MASK","link":22,"shape":7,"label":"mask"}],"outputs":[{"name":"composite","type":"IMAGE","links":[23],"slot_index":0,"shape":3,"label":"composite"}],"properties":{"Node name for S&R":"ImageAndMaskPreview"},"widgets_values":[1,"255, 0, 0",true],"color":"#233","bgcolor":"#355"},{"id":22,"type":"PreviewImage","pos":[1464,2480],"size":[210,246],"flags":{},"order":18,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":23,"type":"InvertMask","pos":[1207.540283203125,2369.234619140625],"size":[210,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":24,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[22],"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"InvertMask"},"widgets_values":[]},{"id":28,"type":"LayerUtility: ImageScaleByAspectRatio V2","pos":[-317,2244],"size":[504,330],"flags":{},"order":4,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":39,"shape":7,"label":"image"},{"name":"mask","type":"MASK","link":42,"shape":7,"label":"mask"}],"outputs":[{"name":"image","type":"IMAGE","links":[],"slot_index":0,"label":"image"},{"name":"mask","type":"MASK","links":null,"label":"mask"},{"name":"original_size","type":"BOX","links":null,"label":"original_size"},{"name":"width","type":"INT","links":null,"label":"width"},{"name":"height","type":"INT","links":null,"label":"height"}],"properties":{"Node name for S&R":"LayerUtility: ImageScaleByAspectRatio V2"},"widgets_values":["9:16",1,1,"fill","lanczos","8","None",1024,"#000000"],"color":"rgba(38, 73, 116, 0.7)"}],"links":[[2,6,0,1,1,"FL2MODEL"],[3,1,3,2,0,"JSON"],[5,5,0,4,0,"SAM2MODEL"],[6,7,0,4,1,"IMAGE"],[7,2,0,4,4,"STRING"],[10,1,3,10,0,"*"],[12,7,0,1,0,"IMAGE"],[14,7,0,14,0,"IMAGE"],[15,14,0,15,0,"IMAGE"],[16,4,0,16,0,"MASK"],[17,16,0,14,1,"MASK"],[19,17,3,18,0,"JSON"],[20,18,0,19,4,"STRING"],[21,17,3,20,0,"*"],[22,23,0,21,1,"MASK"],[23,21,0,22,0,"IMAGE"],[24,19,0,23,0,"MASK"],[25,7,0,17,0,"IMAGE"],[26,6,0,17,1,"FL2MODEL"],[27,5,0,19,0,"SAM2MODEL"],[28,7,0,19,1,"IMAGE"],[29,7,0,21,0,"IMAGE"],[39,12,0,28,0,"IMAGE"],[42,12,1,28,1,"MASK"],[50,12,0,7,0,"*"]],"groups":[{"id":4,"title":"Group","bounding":[-368.2716064453125,304.79998779296875,2061.811767578125,2474.434814453125],"color":"#3f789e","font_size":24,"flags":{}},{"id":1,"title":"Group","bounding":[761,348.3999938964844,922,1123.5999755859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Group","bounding":[761.5401000976562,1645.6348876953125,922.0000610351562,1123.599853515625],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Group","bounding":[-358.2716064453125,1342.6552734375,345.5975341796875,830.5999755859375],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.27941459537663355,"offset":[3365.593470725839,-390.0057151658567]}},"version":0.4}