{"last_node_id":37,"last_link_id":65,"nodes":[{"id":30,"type":"CLIPSetLastLayer","pos":[-1185.440185546875,2622.023681640625],"size":[315,58],"flags":{},"order":8,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":33,"label":"clip"}],"outputs":[{"name":"CLIP","type":"CLIP","links":[35,46],"slot_index":0,"label":"CLIP"}],"properties":{"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2]},{"id":6,"type":"MaskPreview+","pos":[-118.10406494140625,3350.569580078125],"size":[210,246],"flags":{},"order":15,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":6,"label":"mask"}],"outputs":[],"properties":{"Node name for S&R":"MaskPreview+"},"widgets_values":[]},{"id":1,"type":"MaskPreview+","pos":[174.47840881347656,3330.337890625],"size":[210,246],"flags":{},"order":17,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1,"label":"mask"}],"outputs":[],"properties":{"Node name for S&R":"MaskPreview+"},"widgets_values":[]},{"id":10,"type":"DifferentialDiffusion","pos":[33.397830963134766,2529.185791015625],"size":[277.20001220703125,26],"flags":{},"order":16,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":54,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[55],"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"DifferentialDiffusion"},"widgets_values":[]},{"id":31,"type":"IPAdapterUnifiedLoader","pos":[351.25213623046875,2080.076416015625],"size":[315,78],"flags":{},"order":7,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":53,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":null,"shape":7,"label":"ipadapter"}],"outputs":[{"name":"model","type":"MODEL","links":[47],"slot_index":0,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","links":[48],"slot_index":1,"label":"ipadapter"}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["PLUS (high strength)"]},{"id":20,"type":"VAELoader","pos":[-1170.8583984375,2791.878662109375],"size":[315,58],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[20,58],"slot_index":0,"label":"VAE"}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.safetensors"]},{"id":24,"type":"LoadImage","pos":[-1155.4183349609375,2975.76025390625],"size":[315,314],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[8,59],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_dtbxr_00005_.png","image"]},{"id":2,"type":"ImpactGaussianBlurMask","pos":[175.19664001464844,3169.6142578125],"size":[210,82],"flags":{},"order":14,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":2,"slot_index":0,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[1,60],"slot_index":0,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"ImpactGaussianBlurMask"},"widgets_values":[100,10]},{"id":15,"type":"VAEDecode","pos":[632.9186401367188,2912.623291015625],"size":[210,46],"flags":{},"order":20,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":19,"label":"samples"},{"name":"vae","type":"VAE","link":20,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[21],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":7,"type":"InvertMask","pos":[-146.54820251464844,3244.56005859375],"size":[210,26],"flags":{},"order":9,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":7,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[2,6],"slot_index":0,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"InvertMask"},"widgets_values":[]},{"id":36,"type":"InpaintModelConditioning","pos":[220.921142578125,2626.296630859375],"size":[216.59999084472656,138],"flags":{},"order":18,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":56,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":57,"label":"negative"},{"name":"vae","type":"VAE","link":58,"label":"vae"},{"name":"pixels","type":"IMAGE","link":59,"label":"pixels"},{"name":"mask","type":"MASK","link":60,"label":"mask"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[61],"slot_index":0,"shape":3,"label":"positive"},{"name":"negative","type":"CONDITIONING","links":[62],"slot_index":1,"shape":3,"label":"negative"},{"name":"latent","type":"LATENT","links":[63],"slot_index":2,"shape":3,"label":"latent"}],"properties":{"Node name for S&R":"InpaintModelConditioning"},"widgets_values":[true]},{"id":16,"type":"PreviewImage","pos":[1078.500732421875,2442.356201171875],"size":[591.9415283203125,889.9841918945312],"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":21,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":8,"type":"RembgNode_Mix","pos":[-164.1066436767578,3079.713134765625],"size":[315,98],"flags":{},"order":6,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":8,"label":"image"}],"outputs":[{"name":"masks","type":"MASK","links":[7],"slot_index":0,"shape":6,"label":"masks"},{"name":"images","type":"IMAGE","links":[64],"slot_index":1,"shape":6,"label":"images"},{"name":"RGBAs","type":"RGBA","links":null,"shape":6,"label":"RGBAs"}],"properties":{"Node name for S&R":"RembgNode_Mix"},"widgets_values":["briarmbg"]},{"id":37,"type":"PreviewImage","pos":[-396.92645263671875,3340.162109375],"size":[210,246],"flags":{},"order":10,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":64,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":4,"type":"CLIPTextEncode","pos":[-181.26943969726562,2751.88330078125],"size":[425.27801513671875,180.6060791015625],"flags":{"collapsed":false},"order":13,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":46,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[57],"slot_index":0,"label":"CONDITIONING"}],"title":"CLIP Text Encode (Negative Prompt)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["nsfw,nude, embedding:BadDream, embedding:badhandv4, embedding:easynegative,  malformed limbs, missing arms, missing legs, extra arms, extra legs, mutated hands,(naked ass:1.3),"],"color":"#322","bgcolor":"#533"},{"id":19,"type":"CLIPTextEncode","pos":[-188.00440979003906,2666.520751953125],"size":[422.84503173828125,164.31304931640625],"flags":{"collapsed":true},"order":12,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":35,"label":"clip"},{"name":"text","type":"STRING","link":25,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[56],"slot_index":0,"label":"CONDITIONING"}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#232","bgcolor":"#353"},{"id":28,"type":"TTP_text_mix","pos":[-761.639892578125,2536.57177734375],"size":[423.7502746582031,359.70758056640625],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"text1","type":"STRING","links":null,"label":"text1"},{"name":"text2","type":"STRING","links":null,"label":"text2"},{"name":"text3","type":"STRING","links":null,"label":"text3"},{"name":"final_text","type":"STRING","links":[25],"slot_index":3,"label":"final_text"}],"properties":{"Node name for S&R":"TTP_text_mix"},"widgets_values":["room, sofa","","","master piece, best quality, {text1}, {text2}, {text3}"]},{"id":11,"type":"KSampler","pos":[575.9028930664062,2575.652099609375],"size":[315,262],"flags":{},"order":19,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":55,"label":"model"},{"name":"positive","type":"CONDITIONING","link":61,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":62,"label":"negative"},{"name":"latent_image","type":"LATENT","link":63,"label":"latent_image"},{"name":"seed","type":"INT","link":16,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[19],"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1109023593565247,"randomize",20,7,"dpmpp_2m","karras",1]},{"id":18,"type":"LoadImage","pos":[-227.8158721923828,2120.77783203125],"size":[315,314],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[49],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[],"label":"MASK","slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-4034629.5.png [input]","image"]},{"id":12,"type":"Seed (rgthree)","pos":[702.5784301757812,3248.69921875],"size":[210,130],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"SEED","type":"INT","links":[16],"slot_index":0,"shape":3,"label":"SEED","dir":4}],"properties":{},"widgets_values":[-1,null,null,null]},{"id":29,"type":"CheckpointLoaderSimple","pos":[-1176.256591796875,2443.958984375],"size":[315,98],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[53],"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[33],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":null,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["realistic\\繁花_写真-10_繁花-10.safetensors"]},{"id":35,"type":"IPAdapterAdvanced","pos":[323.5697937011719,2211.004150390625],"size":[315,278],"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":47,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":48,"label":"ipadapter"},{"name":"image","type":"IMAGE","link":49,"label":"image"},{"name":"image_negative","type":"IMAGE","link":null,"shape":7,"label":"image_negative"},{"name":"attn_mask","type":"MASK","link":null,"shape":7,"label":"attn_mask"},{"name":"clip_vision","type":"CLIP_VISION","link":null,"shape":7,"label":"clip_vision"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[54],"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[1,"strong style transfer","concat",0,1,"V only"]}],"links":[[1,2,0,1,0,"MASK"],[2,7,0,2,0,"MASK"],[6,7,0,6,0,"MASK"],[7,8,0,7,0,"MASK"],[8,24,0,8,0,"IMAGE"],[16,12,0,11,4,"INT"],[19,11,0,15,0,"LATENT"],[20,20,0,15,1,"VAE"],[21,15,0,16,0,"IMAGE"],[25,28,3,19,1,"STRING"],[33,29,1,30,0,"CLIP"],[35,30,0,19,0,"CLIP"],[46,30,0,4,0,"CLIP"],[47,31,0,35,0,"MODEL"],[48,31,1,35,1,"IPADAPTER"],[49,18,0,35,2,"IMAGE"],[53,29,0,31,0,"MODEL"],[54,35,0,10,0,"MODEL"],[55,10,0,11,0,"MODEL"],[56,19,0,36,0,"CONDITIONING"],[57,4,0,36,1,"CONDITIONING"],[58,20,0,36,2,"VAE"],[59,24,0,36,3,"IMAGE"],[60,2,0,36,4,"MASK"],[61,36,0,11,1,"CONDITIONING"],[62,36,1,11,2,"CONDITIONING"],[63,36,2,11,3,"LATENT"],[64,8,1,37,0,"IMAGE"]],"groups":[{"id":1,"title":"background regeneration","bounding":[-236.86642456054688,2010.8470458984375,1916.52587890625,1632.8734130859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"mask  generartion","bounding":[-151.25979614257812,3012.4619140625,610,599.5999755859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Group","bounding":[-1179.560302734375,2350.357666015625,339.7314453125,515.3624267578125],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.6588450000000708,"offset":[281.90627961069686,-2330.4193407325856]}},"version":0.4}