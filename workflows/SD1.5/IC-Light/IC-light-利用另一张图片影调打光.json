{"last_node_id":42,"last_link_id":77,"nodes":[{"id":1,"type":"Reroute","pos":[927.9896850585938,876.1339111328125],"size":[75,26],"flags":{},"order":7,"mode":0,"inputs":[{"name":"","type":"*","link":1,"label":""}],"outputs":[{"name":"VAE","type":"VAE","links":[5,7,10],"label":"VAE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":2,"type":"CLIPTextEncode","pos":[392.466064453125,1085.39111328125],"size":[400,200],"flags":{},"order":5,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":2,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[9],"slot_index":0,"shape":3,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["bad quality"],"color":"#322","bgcolor":"#533"},{"id":3,"type":"CheckpointLoaderSimple","pos":[-76.03876495361328,780.7611694335938],"size":[315,98],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[3],"slot_index":0,"shape":3,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[2,12],"slot_index":1,"shape":3,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[1,18],"slot_index":2,"shape":3,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["realistic\\繁花_写真-10_繁花-10.safetensors"]},{"id":4,"type":"LoadAndApplyICLightUnet","pos":[912.9896850585938,757.1339111328125],"size":[381.3333740234375,58],"flags":{},"order":4,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":3,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[13],"slot_index":0,"shape":3,"label":"MODEL"}],"properties":{"Node name for S&R":"LoadAndApplyICLightUnet"},"widgets_values":["IC-Light\\iclight_sd15_fc.safetensors"]},{"id":5,"type":"VAEEncode","pos":[954.604248046875,991.7095947265625],"size":[210,46],"flags":{},"order":11,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":63,"slot_index":0,"label":"pixels"},{"name":"vae","type":"VAE","link":5,"slot_index":1,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[11],"shape":3,"label":"LATENT"}],"properties":{"Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":6,"type":"VAEEncode","pos":[1178.1383056640625,1108.348388671875],"size":[210,46],"flags":{},"order":17,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":55,"slot_index":0,"label":"pixels"},{"name":"vae","type":"VAE","link":7,"slot_index":1,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[16],"slot_index":0,"shape":3,"label":"LATENT"}],"properties":{"Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":7,"type":"ICLightConditioning","pos":[1194.3165283203125,864.3632202148438],"size":[342.5999755859375,138],"flags":{},"order":14,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":8,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":9,"label":"negative"},{"name":"vae","type":"VAE","link":10,"label":"vae"},{"name":"foreground","type":"LATENT","link":11,"slot_index":3,"label":"foreground"},{"name":"opt_background","type":"LATENT","link":null,"shape":7,"label":"opt_background"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[14],"slot_index":0,"shape":3,"label":"positive"},{"name":"negative","type":"CONDITIONING","links":[15],"slot_index":1,"shape":3,"label":"negative"},{"name":"empty_latent","type":"LATENT","links":null,"shape":3,"label":"empty_latent"}],"properties":{"Node name for S&R":"ICLightConditioning"},"widgets_values":[0.18215]},{"id":10,"type":"VAEDecode","pos":[2065.98974609375,791.1339111328125],"size":[210,46],"flags":{},"order":19,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":17,"label":"samples"},{"name":"vae","type":"VAE","link":18,"slot_index":1,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[20],"slot_index":0,"shape":3,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":9,"type":"KSampler","pos":[1678.9896240234375,769.1339111328125],"size":[315,474],"flags":{},"order":18,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":13,"slot_index":0,"label":"model"},{"name":"positive","type":"CONDITIONING","link":14,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":15,"slot_index":2,"label":"negative"},{"name":"latent_image","type":"LATENT","link":16,"label":"latent_image"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[17],"slot_index":0,"shape":3,"label":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[100361857014345,"fixed",25,2.05,"dpmpp_2m","karras",0.9]},{"id":24,"type":"PreviewImage","pos":[2222.92919921875,1429.48388671875],"size":[221.2159423828125,284.0367431640625],"flags":{},"order":24,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":33,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":15,"type":"PreviewBridge","pos":[1225.8302001953125,1403.8153076171875],"size":[315,338.00006103515625],"flags":{},"order":22,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":26,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[25,60],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"label":"MASK"}],"properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$15-0",false,"never"]},{"id":39,"type":"ImageConcatMulti","pos":[558.5339965820312,1955.302490234375],"size":[210,190],"flags":{},"order":25,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":66,"label":"image_1"},{"name":"image_2","type":"IMAGE","link":59,"label":"image_2"},{"name":"image_3","type":"IMAGE","link":60,"label":"image_3"},{"name":"image_4","type":"IMAGE","link":61,"label":"image_4"}],"outputs":[{"name":"images","type":"IMAGE","links":[57],"slot_index":0,"label":"images"}],"properties":{},"widgets_values":[4,"right",false,null]},{"id":38,"type":"PreviewImage","pos":[988.4334716796875,1929.1639404296875],"size":[1981.578369140625,1119.5028076171875],"flags":{},"order":26,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":57,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":12,"type":"PreviewBridge","pos":[392.2710876464844,1433.5675048828125],"size":[315,338],"flags":{},"order":20,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":20,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[21,59],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"label":"MASK"}],"properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$12-0",false,"never"]},{"id":25,"type":"ImageAndMaskPreview","pos":[-343.0025329589844,1630.6075439453125],"size":[315,338],"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":77,"shape":7,"label":"image"},{"name":"mask","type":"MASK","link":70,"shape":7,"label":"mask"},{"name":"mask_color","type":"STRING","link":56,"widget":{"name":"mask_color"},"label":"mask_color"}],"outputs":[{"name":"composite","type":"IMAGE","links":[43,55],"slot_index":0,"label":"composite"}],"properties":{"Node name for S&R":"ImageAndMaskPreview"},"widgets_values":[1,"255, 255, 255",true]},{"id":31,"type":"PreviewImage","pos":[54.789527893066406,1705.72216796875],"size":[210,246],"flags":{},"order":16,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":43,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":14,"type":"ColorMatch","pos":[1723.377685546875,1373.919677734375],"size":[315,102],"flags":{},"order":23,"mode":0,"inputs":[{"name":"image_ref","type":"IMAGE","link":65,"label":"image_ref"},{"name":"image_target","type":"IMAGE","link":25,"label":"image_target"}],"outputs":[{"name":"image","type":"IMAGE","links":[33,61],"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"ColorMatch"},"widgets_values":["mkl",0.5]},{"id":13,"type":"DetailTransfer","pos":[863.1021118164062,1422.7132568359375],"size":[315,146],"flags":{},"order":21,"mode":0,"inputs":[{"name":"target","type":"IMAGE","link":21,"label":"target"},{"name":"source","type":"IMAGE","link":67,"label":"source"},{"name":"mask","type":"MASK","link":23,"shape":7,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[26],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"DetailTransfer"},"widgets_values":["soft_light",0.1,0.55]},{"id":11,"type":"RembgNode_Mix","pos":[-152.20730590820312,1422.732666015625],"size":[327.5999755859375,98],"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":64,"label":"image"}],"outputs":[{"name":"masks","type":"MASK","links":[23],"slot_index":0,"shape":6,"label":"masks"},{"name":"images","type":"IMAGE","links":null,"shape":6,"label":"images"},{"name":"RGBAs","type":"RGBA","links":null,"shape":6,"label":"RGBAs"}],"properties":{"Node name for S&R":"RembgNode_Mix"},"widgets_values":["briarmbg"]},{"id":41,"type":"RemapMaskRange","pos":[-557.8314208984375,1462.962890625],"size":[315,82],"flags":{},"order":13,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":69,"label":"mask"}],"outputs":[{"name":"mask","type":"MASK","links":[70],"slot_index":0,"label":"mask"}],"properties":{"Node name for S&R":"RemapMaskRange"},"widgets_values":[0.08,0.6]},{"id":37,"type":"LayerUtility: ColorPicker","pos":[-340.6199035644531,2064.9130859375],"size":[210,94],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"value","type":"STRING","links":[56],"slot_index":0,"label":"value"}],"properties":{"Node name for S&R":"LayerUtility: ColorPicker"},"widgets_values":["#ffffff","HEX"],"color":"rgba(38, 73, 116, 0.7)"},{"id":42,"type":"ImageResizeKJ","pos":[-775.22265625,1650.29296875],"size":[315,266],"flags":{},"order":10,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":75,"label":"image"},{"name":"get_image_size","type":"IMAGE","link":76,"shape":7,"label":"get_image_size"},{"name":"width_input","type":"INT","link":null,"widget":{"name":"width_input"},"shape":7,"label":"width_input"},{"name":"height_input","type":"INT","link":null,"widget":{"name":"height_input"},"shape":7,"label":"height_input"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[77],"slot_index":0,"label":"IMAGE"},{"name":"width","type":"INT","links":null,"label":"width"},{"name":"height","type":"INT","links":null,"label":"height"}],"properties":{"Node name for S&R":"ImageResizeKJ"},"widgets_values":[512,512,"nearest-exact",false,2,0,0,"disabled"]},{"id":18,"type":"PreviewBridge","pos":[-1211.240966796875,1999.771240234375],"size":[315,338],"flags":{},"order":9,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":27,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$18-1735096967.2928479",false,"if_same_size"]},{"id":16,"type":"LoadImage","pos":[-1250.6221923828125,1022.599365234375],"size":[315,314.0000305175781],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[74,76],"slot_index":0,"shape":3,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[],"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_ctepz_00001_.png","image"]},{"id":40,"type":"PreviewBridge","pos":[-650.7326049804688,1022.1800537109375],"size":[315,338],"flags":{},"order":8,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":74,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[63,64,65,66,67],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[69],"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$40-1735097184.2928479",false,"never"]},{"id":17,"type":"LoadImage","pos":[-1230.6339111328125,1579.304443359375],"size":[315,314.00006103515625],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[27,75],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_vpuop_00023_.png","image"]},{"id":8,"type":"CLIPTextEncode","pos":[407.4718933105469,800.230224609375],"size":[400,200],"flags":{},"order":6,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":12,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[8],"slot_index":0,"shape":3,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["gym light, "],"color":"#232","bgcolor":"#353"}],"links":[[1,3,2,1,0,"*"],[2,3,1,2,0,"CLIP"],[3,3,0,4,0,"MODEL"],[5,1,0,5,1,"VAE"],[7,1,0,6,1,"VAE"],[8,8,0,7,0,"CONDITIONING"],[9,2,0,7,1,"CONDITIONING"],[10,1,0,7,2,"VAE"],[11,5,0,7,3,"LATENT"],[12,3,1,8,0,"CLIP"],[13,4,0,9,0,"MODEL"],[14,7,0,9,1,"CONDITIONING"],[15,7,1,9,2,"CONDITIONING"],[16,6,0,9,3,"LATENT"],[17,9,0,10,0,"LATENT"],[18,3,2,10,1,"VAE"],[20,10,0,12,0,"IMAGE"],[21,12,0,13,0,"IMAGE"],[23,11,0,13,2,"MASK"],[25,15,0,14,1,"IMAGE"],[26,13,0,15,0,"IMAGE"],[27,17,0,18,0,"IMAGE"],[33,14,0,24,0,"IMAGE"],[43,25,0,31,0,"IMAGE"],[55,25,0,6,0,"IMAGE"],[56,37,0,25,2,"STRING"],[57,39,0,38,0,"IMAGE"],[59,12,0,39,1,"IMAGE"],[60,15,0,39,2,"IMAGE"],[61,14,0,39,3,"IMAGE"],[63,40,0,5,0,"IMAGE"],[64,40,0,11,0,"IMAGE"],[65,40,0,14,0,"IMAGE"],[66,40,0,39,0,"IMAGE"],[67,40,0,13,1,"IMAGE"],[69,40,1,41,0,"MASK"],[70,41,0,25,1,"MASK"],[74,16,0,40,0,"IMAGE"],[75,17,0,42,0,"IMAGE"],[76,16,0,42,1,"IMAGE"],[77,42,0,25,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.4122927695244585,"offset":[261.8382568304902,-578.0633851285035]}},"version":0.4}