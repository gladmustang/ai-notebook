{"last_node_id":66,"last_link_id":94,"nodes":[{"id":25,"type":"PreviewBridge","pos":[-1913.7742919921875,967.6907348632812],"size":[315,338],"flags":{},"order":9,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":27,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[28],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"label":"MASK"}],"properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$25-0",false,"never"]},{"id":23,"type":"CropPortrait","pos":[-1876.6585693359375,854.7263793945312],"size":[241.79998779296875,46],"flags":{},"order":5,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":24,"label":"image"},{"name":"face_toolkits","type":"FACE_TOOLKITS","link":25,"label":"face_toolkits"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[27],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"CropPortrait"},"widgets_values":[]},{"id":24,"type":"HMFaceToolkitsLoader","pos":[-1921.9599609375,692.1123046875],"size":[315,82],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"face_toolkits","type":"FACE_TOOLKITS","links":[25],"label":"face_toolkits"}],"properties":{"Node name for S&R":"HMFaceToolkitsLoader"},"widgets_values":[0,"modelscope"]},{"id":26,"type":"ImageCrop+","pos":[-2265.31982421875,144.6618194580078],"size":[315,194],"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":51,"label":"image"},{"name":"width","type":"INT","link":31,"widget":{"name":"width"},"label":"width"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[41],"slot_index":0,"label":"IMAGE"},{"name":"x","type":"INT","links":null,"label":"x"},{"name":"y","type":"INT","links":null,"label":"y"}],"properties":{"Node name for S&R":"ImageCrop+"},"widgets_values":[256,600,"top-left",0,0]},{"id":27,"type":"Get resolution [Crystools]","pos":[-2236.610107421875,-64.17578887939453],"size":[214.20001220703125,96],"flags":{},"order":13,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":52,"label":"image"}],"outputs":[{"name":"width","type":"INT","links":[31],"slot_index":0,"label":"width"},{"name":"height","type":"INT","links":null,"label":"height"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":37,"type":"Reroute","pos":[-2494.8017578125,146.5005645751953],"size":[75,26],"flags":{},"order":12,"mode":0,"inputs":[{"name":"","type":"*","link":62,"label":""}],"outputs":[{"name":"","type":"*","links":[51,52,54],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":41,"type":"Switch any [Crystools]","pos":[-2766.65576171875,-24.815824508666992],"size":[315,78],"flags":{},"order":10,"mode":0,"inputs":[{"name":"on_true","type":"*","link":60,"label":"on_true"},{"name":"on_false","type":"*","link":61,"label":"on_false"}],"outputs":[{"name":"*","type":"*","links":[62],"slot_index":0,"label":"*"}],"properties":{"Node name for S&R":"Switch any [Crystools]"},"widgets_values":[false]},{"id":21,"type":"LoadImage","pos":[-3286.49853515625,-233.66384887695312],"size":[315,314],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[60],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["2025-01-01_0001.png","image"]},{"id":30,"type":"PreviewBridge","pos":[-1934.4478759765625,-45.56040954589844],"size":[315,338],"flags":{},"order":15,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":41,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[57],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"label":"MASK"}],"properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$-1-0",false,"never"]},{"id":14,"type":"ReActorFaceBoost","pos":[-1147.5142822265625,852.1131591796875],"size":[315,178],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"FACE_BOOST","type":"FACE_BOOST","links":[16],"slot_index":0,"label":"FACE_BOOST"}],"properties":{"Node name for S&R":"ReActorFaceBoost"},"widgets_values":[true,"GFPGANv1.4.pth","Bicubic",1,0.5,true]},{"id":12,"type":"LoadImage","pos":[-2296.67822265625,807.4887084960938],"size":[315,314],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[24],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_nebjl_00001_.png","image"]},{"id":28,"type":"PreviewImage","pos":[-741.7411499023438,619.0202026367188],"size":[210,246],"flags":{},"order":17,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":38,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":39,"type":"LoadImageListFromDir //Inspire","pos":[-3225.620361328125,164.76600646972656],"size":[428.4000244140625,170],"flags":{},"order":6,"mode":0,"inputs":[{"name":"directory","type":"STRING","link":64,"widget":{"name":"directory"},"label":"directory"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[59,61],"slot_index":0,"shape":6,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":6,"label":"MASK"},{"name":"FILE PATH","type":"STRING","links":null,"shape":6,"label":"FILE PATH"}],"properties":{"Node name for S&R":"LoadImageListFromDir //Inspire"},"widgets_values":["D:\\work\\comfyui\\作品\\作品51\\服装3\\pics\\selected\\for wife\\upscale",0,0,false]},{"id":52,"type":"ShowText|pysssss","pos":[-2357.688720703125,1694.110595703125],"size":[315,76],"flags":{},"order":11,"mode":0,"inputs":[{"name":"text","type":"STRING","link":73,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6,"label":"STRING"}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","D:\\work\\comfyui\\作品\\作品51\\服装3\\pics\\selected\\for wife\\upscale\\faceswap\\"]},{"id":53,"type":"LayerColor: ColorTemperature","pos":[910.5557861328125,542.8800659179688],"size":[352.79998779296875,58],"flags":{},"order":20,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":84,"label":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[74],"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"LayerColor: ColorTemperature"},"widgets_values":[5],"color":"rgba(27, 89, 123, 0.7)"},{"id":54,"type":"LayerColor: Brightness & Contrast","pos":[915.94580078125,676.8092651367188],"size":[415.8000183105469,106],"flags":{},"order":23,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":74,"label":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[75],"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"LayerColor: Brightness & Contrast"},"widgets_values":[1,1,1],"color":"rgba(27, 89, 123, 0.7)"},{"id":56,"type":"LayerColor: ColorBalance","pos":[943.4844970703125,1139.040771484375],"size":[315,106],"flags":{},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":76,"label":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[77],"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"LayerColor: ColorBalance"},"widgets_values":[0,0,0],"color":"rgba(27, 89, 123, 0.7)"},{"id":16,"type":"ReActorFaceSwap","pos":[-1138.1695556640625,417.7453308105469],"size":[315,358],"flags":{},"order":16,"mode":0,"inputs":[{"name":"input_image","type":"IMAGE","link":57,"label":"input_image"},{"name":"source_image","type":"IMAGE","link":28,"shape":7,"label":"source_image"},{"name":"face_model","type":"FACE_MODEL","link":null,"shape":7,"label":"face_model"},{"name":"face_boost","type":"FACE_BOOST","link":16,"shape":7,"label":"face_boost"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[38,47],"slot_index":0,"label":"IMAGE"},{"name":"FACE_MODEL","type":"FACE_MODEL","links":null,"label":"FACE_MODEL"}],"properties":{"Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","GFPGANv1.4.pth",0.8,0.5,"no","no","0","0",1]},{"id":46,"type":"JWStringConcat","pos":[-2362.274169921875,1522.5125732421875],"size":[315,82],"flags":{},"order":7,"mode":0,"inputs":[{"name":"a","type":"STRING","link":65,"widget":{"name":"a"},"label":"a"}],"outputs":[{"name":"STRING","type":"STRING","links":[71,73],"slot_index":0,"label":"STRING"}],"properties":{"Node name for S&R":"JWStringConcat"},"widgets_values":["","\\faceswap\\"]},{"id":45,"type":"StringConstant","pos":[-3668.71826171875,314.29901123046875],"size":[315,58],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[64,65,80],"slot_index":0,"label":"STRING"}],"properties":{"Node name for S&R":"StringConstant"},"widgets_values":["D:\\work\\comfyui\\作品\\作品51\\服装3\\pics\\selected\\for wife\\upscale"]},{"id":33,"type":"ImagePaste","pos":[-808.5184936523438,428.5818176269531],"size":[315,102],"flags":{},"order":18,"mode":0,"inputs":[{"name":"background_image","type":"IMAGE","link":54,"label":"background_image"},{"name":"foreground_image","type":"IMAGE","link":47,"label":"foreground_image"}],"outputs":[{"name":"image","type":"IMAGE","links":[83],"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"ImagePaste"},"widgets_values":[0,0]},{"id":55,"type":"LayerColor: Levels","pos":[933.0665283203125,865.1195068359375],"size":[315,178],"flags":{},"order":25,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":75,"label":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[76],"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"LayerColor: Levels"},"widgets_values":["RGB",0,250,1,0,255],"color":"rgba(27, 89, 123, 0.7)"},{"id":64,"type":"PreviewImage","pos":[2130.648193359375,-278.7933349609375],"size":[757.9979248046875,820.436279296875],"flags":{},"order":24,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":91,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":63,"type":"LayerUtility: ImageBlendAdvance V2","pos":[1635.9375,-236.3928985595703],"size":[428.4000244140625,338],"flags":{},"order":22,"mode":2,"inputs":[{"name":"background_image","type":"IMAGE","link":89,"label":"background_image"},{"name":"layer_image","type":"IMAGE","link":90,"label":"layer_image"},{"name":"layer_mask","type":"MASK","link":null,"shape":7,"label":"layer_mask"}],"outputs":[{"name":"image","type":"IMAGE","links":[91],"label":"image","slot_index":0},{"name":"mask","type":"MASK","links":null,"label":"mask"}],"properties":{"Node name for S&R":"LayerUtility: ImageBlendAdvance V2"},"widgets_values":[true,"screen",10,50,50,"None",1,1,0,"lanczos",0],"color":"rgba(38, 73, 116, 0.7)"},{"id":60,"type":"PreviewBridge","pos":[-205.27621459960938,-220.19097900390625],"size":[758.114501953125,1489.8074951171875],"flags":{},"order":19,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":83,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[84,85,89,90],"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"label":"MASK","slot_index":1}],"properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$-1-0",false,"never"]},{"id":59,"type":"JWStringConcat","pos":[-2336.830810546875,1876.292236328125],"size":[315,82],"flags":{},"order":8,"mode":0,"inputs":[{"name":"a","type":"STRING","link":80,"widget":{"name":"a"},"label":"a"}],"outputs":[{"name":"STRING","type":"STRING","links":[93],"slot_index":0,"label":"STRING"}],"properties":{"Node name for S&R":"JWStringConcat"},"widgets_values":["","\\faceswap_skinbeauty\\"]},{"id":57,"type":"LayerColor: RGB","pos":[947.4344482421875,1326.731689453125],"size":[315,106],"flags":{},"order":27,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":77,"label":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[94],"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"LayerColor: RGB"},"widgets_values":[-5,0,5],"color":"rgba(27, 89, 123, 0.7)"},{"id":66,"type":"LayerUtility: SaveImagePlus","pos":[665.909912109375,1555.2271728515625],"size":[600.6848754882812,895.4922485351562],"flags":{},"order":28,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":94,"label":"images"},{"name":"custom_path","type":"STRING","link":93,"widget":{"name":"custom_path"},"label":"custom_path"}],"outputs":[],"properties":{"Node name for S&R":"LayerUtility: SaveImagePlus"},"widgets_values":["","comfyui","None","png",100,false,"",false,true],"color":"rgba(38, 73, 116, 0.7)"},{"id":51,"type":"LayerUtility: SaveImagePlus","pos":[-262.0012512207031,1558.403564453125],"size":[688.4622802734375,895.7511596679688],"flags":{},"order":21,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":85,"label":"images"},{"name":"custom_path","type":"STRING","link":71,"widget":{"name":"custom_path"},"label":"custom_path"}],"outputs":[],"properties":{"Node name for S&R":"LayerUtility: SaveImagePlus"},"widgets_values":["","comfyui","None","png",100,false,"",false,true],"color":"rgba(38, 73, 116, 0.7)"}],"links":[[16,14,0,16,3,"FACE_BOOST"],[24,12,0,23,0,"IMAGE"],[25,24,0,23,1,"FACE_TOOLKITS"],[27,23,0,25,0,"IMAGE"],[28,25,0,16,1,"IMAGE"],[31,27,0,26,1,"INT"],[38,16,0,28,0,"IMAGE"],[41,26,0,30,0,"IMAGE"],[47,16,0,33,1,"IMAGE"],[51,37,0,26,0,"IMAGE"],[52,37,0,27,0,"IMAGE"],[54,37,0,33,0,"IMAGE"],[57,30,0,16,0,"IMAGE"],[59,39,0,40,0,"IMAGE"],[60,21,0,41,0,"*"],[61,39,0,41,1,"*"],[62,41,0,37,0,"*"],[64,45,0,39,0,"STRING"],[65,45,0,46,0,"STRING"],[71,46,0,51,1,"STRING"],[73,46,0,52,0,"STRING"],[74,53,0,54,0,"IMAGE"],[75,54,0,55,0,"IMAGE"],[76,55,0,56,0,"IMAGE"],[77,56,0,57,0,"IMAGE"],[80,45,0,59,0,"STRING"],[83,33,0,60,0,"IMAGE"],[84,60,0,53,0,"IMAGE"],[85,60,0,51,0,"IMAGE"],[89,60,0,63,0,"IMAGE"],[90,60,0,63,1,"IMAGE"],[91,63,0,64,0,"IMAGE"],[93,59,0,66,1,"STRING"],[94,57,0,66,0,"IMAGE"]],"groups":[{"id":2,"title":"Group","bounding":[-1157.5142822265625,344.14532470703125,671.6483154296875,695.9678344726562],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"input image","bounding":[-2275.31982421875,-137.77578735351562,668.9552001953125,521.6181030273438],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"face","bounding":[-2306.67822265625,618.5123291015625,717.9041748046875,697.1784057617188],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"Group","bounding":[900.5557861328125,469.2799987792969,441.19012451171875,973.4512939453125],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"Group","bounding":[1625.9375,-352.3933410644531,1272.708251953125,904.0362548828125],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.5209868481924459,"offset":[1286.8104222485333,-641.6072697551162]}},"version":0.4}