{"last_node_id":60,"last_link_id":159,"nodes":[{"id":9,"type":"SaveImage","pos":[1490,0],"size":[985.3012084960938,1060.3828125],"flags":{},"order":28,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":9,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":13,"type":"SamplerCustomAdvanced","pos":[864,192],"size":[272.3617858886719,124.53733825683594],"flags":{},"order":26,"mode":0,"inputs":[{"name":"noise","type":"NOISE","link":37,"slot_index":0,"label":"noise"},{"name":"guider","type":"GUIDER","link":30,"slot_index":1,"label":"guider"},{"name":"sampler","type":"SAMPLER","link":19,"slot_index":2,"label":"sampler"},{"name":"sigmas","type":"SIGMAS","link":20,"slot_index":3,"label":"sigmas"},{"name":"latent_image","type":"LATENT","link":116,"slot_index":4,"label":"latent_image"}],"outputs":[{"name":"output","type":"LATENT","links":[24],"slot_index":0,"shape":3,"label":"output"},{"name":"denoised_output","type":"LATENT","links":null,"shape":3,"label":"denoised_output"}],"properties":{"Node name for S&R":"SamplerCustomAdvanced"},"widgets_values":[]},{"id":16,"type":"KSamplerSelect","pos":[480,912],"size":[315,58],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"SAMPLER","type":"SAMPLER","links":[19],"shape":3,"label":"SAMPLER"}],"properties":{"Node name for S&R":"KSamplerSelect"},"widgets_values":["euler"]},{"id":17,"type":"BasicScheduler","pos":[480,1008],"size":[315,106],"flags":{},"order":22,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":55,"slot_index":0,"label":"model"}],"outputs":[{"name":"SIGMAS","type":"SIGMAS","links":[20],"shape":3,"label":"SIGMAS"}],"properties":{"Node name for S&R":"BasicScheduler"},"widgets_values":["simple",20,1]},{"id":25,"type":"RandomNoise","pos":[480,768],"size":[315,82],"flags":{},"order":15,"mode":0,"inputs":[{"name":"noise_seed","type":"INT","link":130,"widget":{"name":"noise_seed"},"label":"noise_seed"}],"outputs":[{"name":"NOISE","type":"NOISE","links":[37],"shape":3,"label":"NOISE"}],"properties":{"Node name for S&R":"RandomNoise"},"widgets_values":[331868448797553,"fixed"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":28,"type":"Note","pos":[-38,563],"size":[336,288],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["If you get an error in any of the nodes above make sure the files are in the correct directories.\n\nSee the top of the examples page for the links : https://comfyanonymous.github.io/ComfyUI_examples/flux/\n\nflux1-dev.safetensors goes in: ComfyUI/models/unet/\n\nt5xxl_fp16.safetensors and clip_l.safetensors go in: ComfyUI/models/clip/\n\nae.safetensors goes in: ComfyUI/models/vae/\n\n\nTip: You can set the weight_dtype above to one of the fp8 types if you have memory issues."],"color":"#432","bgcolor":"#653"},{"id":30,"type":"ModelSamplingFlux","pos":[480,1152],"size":[315,130],"flags":{},"order":20,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":152,"slot_index":0,"label":"model"},{"name":"width","type":"INT","link":115,"slot_index":1,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":114,"slot_index":2,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[54,55],"slot_index":0,"shape":3,"label":"MODEL"}],"properties":{"Node name for S&R":"ModelSamplingFlux"},"widgets_values":[1.15,0.5,576,1024]},{"id":34,"type":"PrimitiveNode","pos":[432,480],"size":[210,82],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[112,115],"slot_index":0,"widget":{"name":"width"},"label":"INT"}],"title":"width","properties":{"Run widget replace on values":false},"widgets_values":[576,"fixed"],"color":"#323","bgcolor":"#535"},{"id":35,"type":"PrimitiveNode","pos":[672,480],"size":[210,82],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[113,114],"slot_index":0,"widget":{"name":"height"},"label":"INT"}],"title":"height","properties":{"Run widget replace on values":false},"widgets_values":[1024,"fixed"],"color":"#323","bgcolor":"#535"},{"id":37,"type":"Note","pos":[480,1344],"size":[314.99755859375,117.98363494873047],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["The reference sampling implementation auto adjusts the shift value based on the resolution, if you don't want this you can just bypass (CTRL-B) this ModelSamplingFlux node.\n"],"color":"#432","bgcolor":"#653"},{"id":42,"type":"StyleModelLoader","pos":[400,-180],"size":[340,60],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"STYLE_MODEL","type":"STYLE_MODEL","links":[119],"label":"STYLE_MODEL"}],"properties":{"Node name for S&R":"StyleModelLoader"},"widgets_values":["flux1-redux-dev.safetensors"]},{"id":43,"type":"Note","pos":[1130,-440],"size":[345.9017028808594,182.3145294189453],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["The redux model lets you prompt with images. It can be used with any Flux1 dev or schnell model workflow.\n\nYou can chain multiple \"Apply Style Model\" nodes if you want to mix multiple images together."],"color":"#432","bgcolor":"#653"},{"id":38,"type":"CLIPVisionLoader","pos":[52.96548843383789,-433.4402770996094],"size":[370,60],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[117],"slot_index":0,"label":"CLIP_VISION"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["sigclip_vision_patch14_384.safetensors"]},{"id":10,"type":"VAELoader","pos":[-436.534912109375,444.1661682128906],"size":[311.81634521484375,60.429901123046875],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[12],"slot_index":0,"shape":3,"label":"VAE"}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["ae.safetensors"]},{"id":54,"type":"Power Lora Loader (rgthree)","pos":[-57.439208984375,143.4865264892578],"size":[340.20001220703125,118],"flags":{},"order":18,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":137,"label":"model","dir":3},{"name":"clip","type":"CLIP","link":138,"label":"clip","dir":3}],"outputs":[{"name":"MODEL","type":"MODEL","links":[152],"slot_index":0,"shape":3,"label":"MODEL","dir":4},{"name":"CLIP","type":"CLIP","links":[140],"shape":3,"label":"CLIP","dir":4}],"properties":{"Show Strengths":"Single Strength"},"widgets_values":[null,{"type":"PowerLoraLoaderHeaderWidget"},null,""]},{"id":22,"type":"BasicGuider","pos":[881.809814453125,85.31755828857422],"size":[222.3482666015625,46],"flags":{},"order":25,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":54,"slot_index":0,"label":"model"},{"name":"conditioning","type":"CONDITIONING","link":123,"slot_index":1,"label":"conditioning"}],"outputs":[{"name":"GUIDER","type":"GUIDER","links":[30],"slot_index":0,"shape":3,"label":"GUIDER"}],"properties":{"Node name for S&R":"BasicGuider"},"widgets_values":[]},{"id":26,"type":"FluxGuidance","pos":[420.9346618652344,301.6771240234375],"size":[317.4000244140625,58],"flags":{},"order":23,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":41,"label":"conditioning"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[122],"slot_index":0,"shape":3,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"FluxGuidance"},"widgets_values":[3.5],"color":"#233","bgcolor":"#355"},{"id":8,"type":"VAEDecode","pos":[1193.8468017578125,192.95806884765625],"size":[210,46],"flags":{},"order":27,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":24,"label":"samples"},{"name":"vae","type":"VAE","link":12,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[9],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":27,"type":"EmptySD3LatentImage","pos":[476.5903015136719,610.4205322265625],"size":[315,106],"flags":{},"order":14,"mode":0,"inputs":[{"name":"width","type":"INT","link":112,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":113,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[116],"slot_index":0,"shape":3,"label":"LATENT"}],"properties":{"Node name for S&R":"EmptySD3LatentImage"},"widgets_values":[576,1024,1]},{"id":12,"type":"UNETLoader","pos":[-428,125],"size":[315,82],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[137],"slot_index":0,"shape":3,"label":"MODEL"}],"properties":{"Node name for S&R":"UNETLoader"},"widgets_values":["FLUX_幻谷_极致优秀的2.5d大模型_V2.safetensors","fp8_e4m3fn"],"color":"#223","bgcolor":"#335"},{"id":50,"type":"Seed (rgthree)","pos":[938,739],"size":[210,130],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[{"name":"SEED","type":"INT","links":[130],"slot_index":0,"shape":3,"label":"SEED","dir":4}],"properties":{},"widgets_values":[963504296591036,null,null,null]},{"id":39,"type":"CLIPVisionEncode","pos":[431,-307],"size":[290,78],"flags":{},"order":16,"mode":0,"inputs":[{"name":"clip_vision","type":"CLIP_VISION","link":117,"label":"clip_vision"},{"name":"image","type":"IMAGE","link":159,"label":"image"}],"outputs":[{"name":"CLIP_VISION_OUTPUT","type":"CLIP_VISION_OUTPUT","links":[120],"slot_index":0,"label":"CLIP_VISION_OUTPUT"}],"properties":{"Node name for S&R":"CLIPVisionEncode"},"widgets_values":["none"]},{"id":59,"type":"ImageCropByMaskAndResize","pos":[77.02912902832031,-724.8464965820312],"size":[365.4000244140625,170],"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":155,"label":"image"},{"name":"mask","type":"MASK","link":156,"label":"mask"}],"outputs":[{"name":"images","type":"IMAGE","links":[157],"slot_index":0,"label":"images"},{"name":"masks","type":"MASK","links":null,"label":"masks"},{"name":"bbox","type":"BBOX","links":null,"label":"bbox"}],"properties":{"Node name for S&R":"ImageCropByMaskAndResize"},"widgets_values":[512,0,128,512]},{"id":41,"type":"StyleModelApply","pos":[760,-300],"size":[320,122],"flags":{},"order":24,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":122,"label":"conditioning"},{"name":"style_model","type":"STYLE_MODEL","link":119,"label":"style_model"},{"name":"clip_vision_output","type":"CLIP_VISION_OUTPUT","link":120,"shape":7,"label":"clip_vision_output"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[123],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"StyleModelApply"},"widgets_values":[0.7000000000000001,"multiply"]},{"id":60,"type":"PreviewImage","pos":[540.823486328125,-749.1611328125],"size":[210,246],"flags":{},"order":19,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":157,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":58,"type":"Note","pos":[760.7127685546875,-486.5809631347656],"size":[270.6848449707031,107.750244140625],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["0.1 - 变化相对比较大，但是基本的基调还有\n0.5 - 相当于 advance control 3\n0.75 - 相当于 advance control 2\n1"],"color":"#432","bgcolor":"#653"},{"id":40,"type":"LoadImage","pos":[-517.7055053710938,-727.87109375],"size":[486.0527038574219,584.6433715820312],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[155,159],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[156],"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_vnatl_00006_.png","image"]},{"id":6,"type":"CLIPTextEncode","pos":[-72.7220458984375,321.96160888671875],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":21,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":140,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[41],"slot_index":0,"label":"CONDITIONING"}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["A logo with the letters T.U.R. written on it. The letters are white. There are two dragon heads that are red and blue. There is a blue cube in between the dragon heads. "],"color":"#232","bgcolor":"#353"},{"id":11,"type":"DualCLIPLoader","pos":[-435,257],"size":[315,106],"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","type":"CLIP","links":[138],"slot_index":0,"shape":3,"label":"CLIP"}],"properties":{"Node name for S&R":"DualCLIPLoader"},"widgets_values":["t5xxl_fp8_e4m3fn.safetensors","flux\\ViT-L-14-TEXT-detail-improved-hiT-GmP-TE-only-HF.safetensors","flux"]}],"links":[[9,8,0,9,0,"IMAGE"],[12,10,0,8,1,"VAE"],[19,16,0,13,2,"SAMPLER"],[20,17,0,13,3,"SIGMAS"],[24,13,0,8,0,"LATENT"],[30,22,0,13,1,"GUIDER"],[37,25,0,13,0,"NOISE"],[41,6,0,26,0,"CONDITIONING"],[54,30,0,22,0,"MODEL"],[55,30,0,17,0,"MODEL"],[112,34,0,27,0,"INT"],[113,35,0,27,1,"INT"],[114,35,0,30,2,"INT"],[115,34,0,30,1,"INT"],[116,27,0,13,4,"LATENT"],[117,38,0,39,0,"CLIP_VISION"],[119,42,0,41,1,"STYLE_MODEL"],[120,39,0,41,2,"CLIP_VISION_OUTPUT"],[122,26,0,41,0,"CONDITIONING"],[123,41,0,22,1,"CONDITIONING"],[130,50,0,25,0,"INT"],[137,12,0,54,0,"MODEL"],[138,11,0,54,1,"CLIP"],[140,54,1,6,0,"CLIP"],[152,54,0,30,0,"MODEL"],[155,40,0,59,0,"IMAGE"],[156,40,1,59,1,"MASK"],[157,59,0,60,0,"IMAGE"],[159,40,0,39,1,"IMAGE"]],"groups":[{"id":1,"title":"Redux Model","bounding":[50,-483.6000061035156,1040,507.6000061035156],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.5535220464769026,"offset":[632.6272054922683,45.85981657099519]},"groupNodes":{"EmptyLatentImage":{"nodes":[{"type":"PrimitiveNode","pos":[432,480],"size":{"0":210,"1":82},"flags":{},"order":6,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[],"widget":{"name":"height"},"slot_index":0}],"title":"height","properties":{"Run widget replace on values":false},"color":"#323","bgcolor":"#535","index":0},{"type":"PrimitiveNode","pos":[672,480],"size":{"0":210,"1":82},"flags":{},"order":7,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[],"slot_index":0,"widget":{"name":"width"}}],"title":"width","properties":{"Run widget replace on values":false},"color":"#323","bgcolor":"#535","index":1},{"type":"EmptySD3LatentImage","pos":[480,624],"size":{"0":315,"1":106},"flags":{},"order":10,"mode":0,"inputs":[{"name":"width","type":"INT","link":null,"widget":{"name":"width"}},{"name":"height","type":"INT","link":null,"widget":{"name":"height"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"EmptySD3LatentImage"},"widgets_values":[1024,1024,1],"index":2}],"links":[[1,0,2,0,34,"INT"],[0,0,2,1,35,"INT"]],"external":[[0,0,"INT"],[1,0,"INT"],[2,0,"LATENT"]],"config":{"0":{"output":{"0":{"name":"height"}},"input":{"value":{"visible":true}}},"1":{"output":{"0":{"name":"width"}},"input":{"value":{"visible":true}}},"2":{"input":{"width":{"visible":false},"height":{"visible":false}}}}}}},"version":0.4}