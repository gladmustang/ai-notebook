{"last_node_id":194,"last_link_id":433,"nodes":[{"id":10,"type":"VAELoader","pos":[-819,2901],"size":[311.81634521484375,60.429901123046875],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[195,203,360],"slot_index":0,"shape":3,"label":"VAE"}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["ae.safetensors"]},{"id":11,"type":"DualCLIPLoader","pos":[-827.8142700195312,2688.9521484375],"size":[315,106],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","type":"CLIP","links":[193,202],"slot_index":0,"shape":3,"label":"CLIP"}],"properties":{"Node name for S&R":"DualCLIPLoader"},"widgets_values":["t5xxl_fp8_e4m3fn.safetensors","clip_l.safetensors","flux"]},{"id":38,"type":"CLIPVisionLoader","pos":[-397.4082946777344,1462.336181640625],"size":[370,60],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[213,309],"slot_index":0,"label":"CLIP_VISION"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["sigclip_vision_patch14_384.safetensors"]},{"id":42,"type":"StyleModelLoader","pos":[-406.4083251953125,1663.336181640625],"size":[340,60],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"STYLE_MODEL","type":"STYLE_MODEL","links":[216,310,311],"slot_index":0,"label":"STYLE_MODEL"}],"properties":{"Node name for S&R":"StyleModelLoader"},"widgets_values":["flux1-redux-dev.safetensors"]},{"id":43,"type":"Note","pos":[546.66748046875,1340.996337890625],"size":[345.9017028808594,182.3145294189453],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["The redux model lets you prompt with images. It can be used with any Flux1 dev or schnell model workflow.\n\nYou can chain multiple \"Apply Style Model\" nodes if you want to mix multiple images together."],"color":"#432","bgcolor":"#653"},{"id":63,"type":"Florence2Run","pos":[-2235.520751953125,2189.1416015625],"size":[400,352],"flags":{},"order":18,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":332,"label":"image"},{"name":"florence2_model","type":"FL2MODEL","link":169,"label":"florence2_model"}],"outputs":[{"name":"image","type":"IMAGE","links":null,"label":"image"},{"name":"mask","type":"MASK","links":null,"label":"mask"},{"name":"caption","type":"STRING","links":[171],"slot_index":2,"label":"caption"},{"name":"data","type":"JSON","links":null,"label":"data"}],"properties":{"Node name for S&R":"Florence2Run"},"widgets_values":["","more_detailed_caption",true,false,1024,3,true,"",189350928304252,"fixed"]},{"id":68,"type":"TTP_text_mix","pos":[-1784,2106],"size":[341.4905700683594,335.98199462890625],"flags":{},"order":27,"mode":0,"inputs":[{"name":"text1","type":"STRING","link":171,"widget":{"name":"text1"},"label":"text1"}],"outputs":[{"name":"text1","type":"STRING","links":null,"label":"text1"},{"name":"text2","type":"STRING","links":null,"label":"text2"},{"name":"text3","type":"STRING","links":[],"slot_index":2,"label":"text3"},{"name":"final_text","type":"STRING","links":[172,192,270],"slot_index":3,"label":"final_text"}],"properties":{"Node name for S&R":"TTP_text_mix"},"widgets_values":["","a asian beatiful female  standing on a city street and wearing the same costume in left side image, (red hat:1.5)","","this is a pair of images，the left side highlights {text1}\nthe right side is {text2} "]},{"id":73,"type":"CLIPTextEncode","pos":[-317,3169],"size":[425.27801513671875,180.6060791015625],"flags":{"collapsed":true},"order":13,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":202,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[189],"slot_index":0,"label":"CONDITIONING"}],"title":"CLIP Text Encode (Negative Prompt)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#322","bgcolor":"#533"},{"id":77,"type":"CLIPTextEncode","pos":[-310,2899],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":31,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":193,"label":"clip"},{"name":"text","type":"STRING","link":192,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[187],"slot_index":0,"label":"CONDITIONING"}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["star and light"],"color":"#232","bgcolor":"#353"},{"id":78,"type":"FluxGuidance","pos":[-368.839599609375,2486.67041015625],"size":[317.4000244140625,58],"flags":{},"order":35,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":187,"label":"conditioning"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[306,307,308],"slot_index":0,"shape":3,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"FluxGuidance"},"widgets_values":[30]},{"id":80,"type":"DifferentialDiffusion","pos":[-350.839599609375,2624.67041015625],"size":[277.20001220703125,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":201,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[181],"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"DifferentialDiffusion"},"widgets_values":[]},{"id":83,"type":"UNETLoader","pos":[-824.814208984375,2522.951171875],"size":[315,82],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[201],"slot_index":0,"shape":3,"label":"MODEL"}],"properties":{"Node name for S&R":"UNETLoader"},"widgets_values":["fluxFillFP8_v10.safetensors","fp8_e4m3fn"],"color":"#223","bgcolor":"#335"},{"id":86,"type":"Seed (rgthree)","pos":[253,3122],"size":[210,130],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"SEED","type":"INT","links":[211],"slot_index":0,"shape":3,"label":"SEED","dir":4}],"properties":{},"widgets_values":[632298179255118,null,null,null]},{"id":88,"type":"CLIPVisionEncode","pos":[89.59187316894531,1356.336181640625],"size":[380.4000244140625,78],"flags":{},"order":23,"mode":0,"inputs":[{"name":"clip_vision","type":"CLIP_VISION","link":213,"label":"clip_vision"},{"name":"image","type":"IMAGE","link":433,"label":"image"}],"outputs":[{"name":"CLIP_VISION_OUTPUT","type":"CLIP_VISION_OUTPUT","links":[212,312],"slot_index":0,"label":"CLIP_VISION_OUTPUT"}],"properties":{"Node name for S&R":"CLIPVisionEncode"},"widgets_values":["center"]},{"id":108,"type":"LayerUtility: PurgeVRAM","pos":[-1383.5198974609375,2190.1416015625],"size":[315,82],"flags":{},"order":32,"mode":0,"inputs":[{"name":"anything","type":"*","link":270,"label":"anything"}],"outputs":[],"properties":{"Node name for S&R":"LayerUtility: PurgeVRAM"},"widgets_values":[true,true],"color":"rgba(38, 73, 116, 0.7)"},{"id":111,"type":"Reroute","pos":[-1034,3313],"size":[75,26],"flags":{},"order":38,"mode":0,"inputs":[{"name":"","type":"*","link":427,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[275],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":114,"type":"Get resolution [Crystools]","pos":[-340,3404],"size":[214.20001220703125,96],"flags":{},"order":19,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":335,"label":"image"}],"outputs":[{"name":"width","type":"INT","links":[287,336],"slot_index":0,"label":"width"},{"name":"height","type":"INT","links":[337],"slot_index":1,"label":"height"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":116,"type":"ImageCrop","pos":[176,3397],"size":[315,130],"flags":{},"order":50,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":280,"label":"image"},{"name":"width","type":"INT","link":336,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":337,"widget":{"name":"height"},"label":"height"},{"name":"x","type":"INT","link":287,"widget":{"name":"x"},"label":"x"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[288,297,366],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageCrop"},"widgets_values":[512,512,0,0]},{"id":119,"type":"Reroute","pos":[-287,3714],"size":[75,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":364,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[298],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":121,"type":"Note","pos":[-1341,2323],"size":[402.7159118652344,174.8305206298828],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["template1: \nthis is a pair of images，the left side highlights {text1}\nthe right side is a asian beatiful female  standing on a city street and wearing this costume\n\ntemplate2:\nthis is a pair of images，the left side highlights {text1}\nthe right side is a asian beatiful female and is tattooed with this pattern on her body\n\n\n "],"color":"#432","bgcolor":"#653"},{"id":123,"type":"ImitationHueNode","pos":[204,3690],"size":[315,314],"flags":{},"order":52,"mode":0,"inputs":[{"name":"imitation_image","type":"IMAGE","link":298,"label":"imitation_image"},{"name":"target_image","type":"IMAGE","link":297,"label":"target_image"},{"name":"mask","type":"MASK","link":null,"shape":7,"label":"mask"}],"outputs":[{"name":"image","type":"IMAGE","links":[296],"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"ImitationHueNode","ttNbgOverride":{"color":"#af3535","groupcolor":"#A88"}},"widgets_values":[1,0.2,true,0.5,false,0.5,false,0.5,true,0.5],"color":"#af3535"},{"id":125,"type":"PreviewImage","pos":[614,3680],"size":[210,246],"flags":{},"order":54,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":296,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":126,"type":"ReduxAdvanced","pos":[100,1519],"size":[317.4000244140625,234],"flags":{},"order":39,"mode":2,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":306,"label":"conditioning"},{"name":"style_model","type":"STYLE_MODEL","link":310,"label":"style_model"},{"name":"clip_vision","type":"CLIP_VISION","link":309,"label":"clip_vision"},{"name":"image","type":"IMAGE","link":374,"label":"image"},{"name":"mask","type":"MASK","link":null,"shape":7,"label":"mask"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[303],"slot_index":0,"label":"CONDITIONING"},{"name":"IMAGE","type":"IMAGE","links":null,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"label":"MASK"}],"properties":{"Node name for S&R":"ReduxAdvanced"},"widgets_values":[2,"area","keep aspect ratio",1,0.1]},{"id":127,"type":"StyleModelAdvancedApply","pos":[84,1811],"size":[393,194],"flags":{},"order":40,"mode":2,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":307,"label":"conditioning"},{"name":"style_model","type":"STYLE_MODEL","link":311,"label":"style_model"},{"name":"clip_vision_output","type":"CLIP_VISION_OUTPUT","link":312,"label":"clip_vision_output"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[304],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"StyleModelAdvancedApply"},"widgets_values":[1,0,1,1,1]},{"id":151,"type":"easy setNode","pos":[-498,3012],"size":[210,58],"flags":{"collapsed":true},"order":12,"mode":0,"inputs":[{"name":"VAE","type":"VAE","link":360,"label":"VAE"}],"outputs":[],"title":"➡️vae","properties":{"previousName":"vae"},"widgets_values":["vae"],"color":"#223"},{"id":156,"type":"Get resolution [Crystools]","pos":[587,3470],"size":[214.20001220703125,96],"flags":{},"order":53,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":366,"label":"image"}],"outputs":[{"name":"width","type":"INT","links":[],"slot_index":0,"label":"width"},{"name":"height","type":"INT","links":[],"slot_index":1,"label":"height"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":172,"type":"PreviewImage","pos":[-1129,1317],"size":[210,246],"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":394,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":40,"type":"LoadImage","pos":[-2204,2907],"size":[315,314],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[330],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[377],"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-37726615.5.png [input]","image"]},{"id":64,"type":"DownloadAndLoadFlorence2Model","pos":[-2227.520751953125,2600.142333984375],"size":[365.4000244140625,106],"flags":{},"order":9,"mode":0,"inputs":[{"name":"lora","type":"PEFTLORA","link":null,"shape":7,"label":"lora"}],"outputs":[{"name":"florence2_model","type":"FL2MODEL","links":[169],"label":"florence2_model"}],"properties":{"Node name for S&R":"DownloadAndLoadFlorence2Model"},"widgets_values":["microsoft/Florence-2-base","fp16","sdpa"]},{"id":65,"type":"ShowText|pysssss","pos":[-1797.013671875,2498.810791015625],"size":[446.11126708984375,248.07830810546875],"flags":{},"order":30,"mode":0,"inputs":[{"name":"text","type":"STRING","link":172,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"STRING","type":"STRING","links":null,"slot_index":0,"shape":6,"label":"STRING"}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","this is a pair of images，the left side highlights The image is a portrait of a young woman posing in a futuristic setting. She is sitting on a black surface with her legs crossed and her arms raised above her head. The woman has long, straight hair that is styled in loose waves and is wearing a gray crop top with a floral pattern and black shorts. She has a serious expression on her face and is looking directly at the camera. The background is blurred, but it appears to be a cityscape with buildings and lights. The overall mood of the image is dark and mysterious.\nthe right side is a asian beatiful female  standing on a city street and wearing the same costume in left side image, (red hat:1.5) "]},{"id":74,"type":"VAEDecode","pos":[578.6537475585938,3110.24462890625],"size":[210,46],"flags":{},"order":48,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":185,"label":"samples"},{"name":"vae","type":"VAE","link":203,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[186,280],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":72,"type":"KSampler","pos":[555.8216552734375,2710.411865234375],"size":[315,262],"flags":{},"order":47,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":181,"label":"model"},{"name":"positive","type":"CONDITIONING","link":224,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":183,"label":"negative"},{"name":"latent_image","type":"LATENT","link":184,"label":"latent_image"},{"name":"seed","type":"INT","link":211,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[185],"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[552696996451816,"randomize",20,1,"euler","normal",1]},{"id":107,"type":"LayerUtility: PurgeVRAM","pos":[557.0459594726562,2571.47998046875],"size":[315,82],"flags":{},"order":46,"mode":0,"inputs":[{"name":"anything","type":"*","link":269,"label":"anything"}],"outputs":[],"properties":{"Node name for S&R":"LayerUtility: PurgeVRAM"},"widgets_values":[true,true],"color":"rgba(38, 73, 116, 0.7)"},{"id":79,"type":"InpaintModelConditioning","pos":[176.84756469726562,2729.045166015625],"size":[302.4000244140625,138],"flags":{},"order":45,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":381,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":189,"label":"negative"},{"name":"vae","type":"VAE","link":195,"label":"vae"},{"name":"pixels","type":"IMAGE","link":275,"label":"pixels"},{"name":"mask","type":"MASK","link":431,"label":"mask"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[224,269],"slot_index":0,"label":"positive"},{"name":"negative","type":"CONDITIONING","links":[183],"slot_index":1,"label":"negative"},{"name":"latent","type":"LATENT","links":[184],"slot_index":2,"label":"latent"}],"properties":{"Node name for S&R":"InpaintModelConditioning"},"widgets_values":[false]},{"id":115,"type":"PreviewImage","pos":[1053.0421142578125,3364.061279296875],"size":[600.2105102539062,831.9589233398438],"flags":{},"order":51,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":288,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":175,"type":"LoadImage","pos":[-366.0732727050781,1084.2667236328125],"size":[315,314],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_adlzj_00003_.png","image"]},{"id":134,"type":"TTP_Expand_And_Mask","pos":[-2856.13671875,3657.798095703125],"size":[315,294],"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":331,"label":"image"}],"outputs":[{"name":"EXPANDED_IMAGE","type":"IMAGE","links":[365],"slot_index":0,"label":"EXPANDED_IMAGE"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"TTP_Expand_And_Mask"},"widgets_values":["white",false,false,false,false,false,1,1,1,1]},{"id":155,"type":"Get resolution [Crystools]","pos":[-2784.368408203125,4009.06640625],"size":[214.20001220703125,96],"flags":{},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":365,"label":"image"}],"outputs":[{"name":"width","type":"INT","links":null,"label":"width"},{"name":"height","type":"INT","links":null,"label":"height"}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":185,"type":"ImageConcanate","pos":[-1403.96240234375,4187.73046875],"size":[315,102],"flags":{},"order":33,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":423,"label":"image1"},{"name":"image2","type":"IMAGE","link":424,"label":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[429],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageConcanate"},"widgets_values":["right",true]},{"id":112,"type":"Reroute","pos":[-1032,3383],"size":[75,26],"flags":{},"order":42,"mode":0,"inputs":[{"name":"","type":"*","link":430,"label":""}],"outputs":[{"name":"","type":"MASK","links":[431],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":183,"type":"PreviewImage","pos":[-803.8521118164062,3669.913330078125],"size":[210,246],"flags":{},"order":37,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":410,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":182,"type":"ImageConcanate","pos":[-1213.35107421875,3620.133056640625],"size":[315,102],"flags":{},"order":34,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":418,"label":"image1"},{"name":"image2","type":"IMAGE","link":419,"label":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[410,427],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageConcanate"},"widgets_values":["right",true]},{"id":190,"type":"PreviewBridge","pos":[-1658.8739013671875,3692.3359375],"size":[315,338],"flags":{},"order":29,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":414,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[419],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"label":"MASK"}],"properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$190-0",false,"never"]},{"id":178,"type":"LayerUtility: ColorImage","pos":[-2212.0068359375,3936.618896484375],"size":[315,106],"flags":{},"order":25,"mode":0,"inputs":[{"name":"width","type":"INT","link":404,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":405,"widget":{"name":"height"},"label":"height"},{"name":"color","type":"STRING","link":407,"widget":{"name":"color"},"label":"color"}],"outputs":[{"name":"image","type":"IMAGE","links":[413,414],"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"LayerUtility: ColorImage"},"widgets_values":[512,512,"#111111"],"color":"rgba(38, 73, 116, 0.7)"},{"id":180,"type":"LayerUtility: ColorPicker","pos":[-2177.347412109375,4132.779296875],"size":[210,94],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[{"name":"value","type":"STRING","links":[407,412],"slot_index":0,"label":"value"}],"properties":{"Node name for S&R":"LayerUtility: ColorPicker"},"widgets_values":["#e11414","HEX"],"color":"rgba(38, 73, 116, 0.7)"},{"id":188,"type":"ShowText|pysssss","pos":[-2201.455810546875,4279.60888671875],"size":[315,76],"flags":{},"order":16,"mode":0,"inputs":[{"name":"text","type":"STRING","link":412,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6,"label":"STRING"}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","#e11414"]},{"id":137,"type":"LayerUtility: ImageScaleByAspectRatio V2","pos":[-2250.644775390625,3308.414794921875],"size":[504,330],"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":330,"shape":7,"label":"image"},{"name":"mask","type":"MASK","link":377,"shape":7,"label":"mask"}],"outputs":[{"name":"image","type":"IMAGE","links":[331,332,335,364,374,394,426,433],"slot_index":0,"label":"image"},{"name":"mask","type":"MASK","links":[425],"slot_index":1,"label":"mask"},{"name":"original_size","type":"BOX","links":null,"label":"original_size"},{"name":"width","type":"INT","links":[404],"slot_index":3,"label":"width"},{"name":"height","type":"INT","links":[405],"slot_index":4,"label":"height"}],"properties":{"Node name for S&R":"LayerUtility: ImageScaleByAspectRatio V2"},"widgets_values":["original",1,1,"letterbox","lanczos","8","None",1024,"#000000"],"color":"rgba(38, 73, 116, 0.7)"},{"id":191,"type":"PreviewBridge","pos":[-1668.414306640625,3290.972412109375],"size":[315,338],"flags":{},"order":22,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":426,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[418],"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"label":"MASK"}],"properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$191-0",false,"never"]},{"id":186,"type":"MaskToImage","pos":[-2170.485107421875,3680.645751953125],"size":[264.5999755859375,26],"flags":{},"order":24,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":425,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[424],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":189,"type":"Image Filter Adjustments","pos":[-1829.310302734375,4300.7880859375],"size":[315,226],"flags":{},"order":28,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":413,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[423],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"Image Filter Adjustments"},"widgets_values":[-1,1,1,1,0,0,0,"false"]},{"id":193,"type":"Image To Mask","pos":[-1392.92529296875,4363.40234375],"size":[315,58],"flags":{},"order":36,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":429,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[430,432],"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"Image To Mask"},"widgets_values":["intensity"]},{"id":87,"type":"StyleModelApply","pos":[93,2060],"size":[393,122],"flags":{},"order":41,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":308,"label":"conditioning"},{"name":"style_model","type":"STYLE_MODEL","link":216,"label":"style_model"},{"name":"clip_vision_output","type":"CLIP_VISION_OUTPUT","link":212,"label":"clip_vision_output"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[305],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"StyleModelApply"},"widgets_values":[0.6,"multiply"]},{"id":133,"type":"Any Switch (rgthree)","pos":[594.5916137695312,1717.336181640625],"size":[168,106],"flags":{},"order":44,"mode":0,"inputs":[{"name":"any_01","type":"CONDITIONING","link":303,"dir":3,"label":"any_01"},{"name":"any_02","type":"CONDITIONING","link":304,"dir":3,"label":"any_02"},{"name":"any_03","type":"CONDITIONING","link":305,"dir":3,"label":"any_03"},{"name":"any_04","type":"CONDITIONING","link":null,"dir":3,"label":"any_04"},{"name":"any_05","type":"CONDITIONING","link":null,"dir":3}],"outputs":[{"name":"*","type":"CONDITIONING","links":[381],"slot_index":0,"shape":3,"label":"CONDITIONING","dir":4}],"properties":{},"widgets_values":[]},{"id":194,"type":"PreviewMask_","pos":[-953.0377807617188,4086.222412109375],"size":[415.39715576171875,575.6201171875],"flags":{},"order":43,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":432,"label":"mask"}],"outputs":[],"properties":{"Node name for S&R":"PreviewMask_"},"widgets_values":[]},{"id":75,"type":"SaveImage","pos":[1030.4520263671875,2416.266357421875],"size":[828.9535522460938,893.8475341796875],"flags":{},"order":49,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":186,"label":"images"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]}],"links":[[169,64,0,63,1,"FL2MODEL"],[171,63,2,68,0,"STRING"],[172,68,3,65,0,"STRING"],[181,80,0,72,0,"MODEL"],[183,79,1,72,2,"CONDITIONING"],[184,79,2,72,3,"LATENT"],[185,72,0,74,0,"LATENT"],[186,74,0,75,0,"IMAGE"],[187,77,0,78,0,"CONDITIONING"],[189,73,0,79,1,"CONDITIONING"],[192,68,3,77,1,"STRING"],[193,11,0,77,0,"CLIP"],[195,10,0,79,2,"VAE"],[201,83,0,80,0,"MODEL"],[202,11,0,73,0,"CLIP"],[203,10,0,74,1,"VAE"],[211,86,0,72,4,"INT"],[212,88,0,87,2,"CLIP_VISION_OUTPUT"],[213,38,0,88,0,"CLIP_VISION"],[216,42,0,87,1,"STYLE_MODEL"],[224,79,0,72,1,"CONDITIONING"],[269,79,0,107,0,"*"],[270,68,3,108,0,"*"],[275,111,0,79,3,"IMAGE"],[280,74,0,116,0,"IMAGE"],[287,114,0,116,3,"INT"],[288,116,0,115,0,"IMAGE"],[296,123,0,125,0,"IMAGE"],[297,116,0,123,1,"IMAGE"],[298,119,0,123,0,"IMAGE"],[303,126,0,133,0,"*"],[304,127,0,133,1,"CONDITIONING"],[305,87,0,133,2,"CONDITIONING"],[306,78,0,126,0,"CONDITIONING"],[307,78,0,127,0,"CONDITIONING"],[308,78,0,87,0,"CONDITIONING"],[309,38,0,126,2,"CLIP_VISION"],[310,42,0,126,1,"STYLE_MODEL"],[311,42,0,127,1,"STYLE_MODEL"],[312,88,0,127,2,"CLIP_VISION_OUTPUT"],[330,40,0,137,0,"IMAGE"],[331,137,0,134,0,"IMAGE"],[332,137,0,63,0,"IMAGE"],[335,137,0,114,0,"IMAGE"],[336,114,0,116,1,"INT"],[337,114,1,116,2,"INT"],[360,10,0,151,0,"VAE"],[364,137,0,119,0,"*"],[365,134,0,155,0,"IMAGE"],[366,116,0,156,0,"IMAGE"],[374,137,0,126,3,"IMAGE"],[377,40,1,137,1,"MASK"],[381,133,0,79,0,"CONDITIONING"],[394,137,0,172,0,"IMAGE"],[404,137,3,178,0,"INT"],[405,137,4,178,1,"INT"],[407,180,0,178,2,"STRING"],[410,182,0,183,0,"IMAGE"],[412,180,0,188,0,"STRING"],[413,178,0,189,0,"IMAGE"],[414,178,0,190,0,"IMAGE"],[418,191,0,182,0,"IMAGE"],[419,190,0,182,1,"IMAGE"],[423,189,0,185,0,"IMAGE"],[424,186,0,185,1,"IMAGE"],[425,137,1,186,0,"MASK"],[426,137,0,191,0,"IMAGE"],[427,182,0,111,0,"*"],[429,185,0,193,0,"IMAGE"],[430,193,0,112,0,"*"],[431,112,0,79,4,"MASK"],[432,193,0,194,0,"MASK"],[433,137,0,88,1,"IMAGE"]],"groups":[{"id":1,"title":"Redux Model","bounding":[-416.4083251953125,1267.3963623046875,1348.1783447265625,878.1201782226562],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"prompts","bounding":[-2245.520751953125,2032.4000244140625,1289.2366943359375,723.6783447265625],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Ksampler","bounding":[-411.8320007324219,2327.419921875,2422.517333984375,1882.8726806640625],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"Group","bounding":[-842.1101684570312,2420.93798828125,358.81634521484375,579.0299072265625],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"Input area","bounding":[-2246.84033203125,2858.40234375,785,1174.5999755859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"Group","bounding":[73.87865447998047,1445.8211669921875,422,690.5999755859375],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.20992832109438037,"offset":[4445.004653409074,-982.1522823914725]},"linkExtensions":[{"id":193,"parentId":1},{"id":195,"parentId":2},{"id":202,"parentId":1},{"id":203,"parentId":2},{"id":335,"parentId":6},{"id":374,"parentId":8},{"id":433,"parentId":8}],"reroutes":[{"id":1,"pos":[-389.0760192871094,2873.016845703125],"linkIds":[193,202]},{"id":2,"pos":[-353.5633239746094,2820.39208984375],"linkIds":[195,203]},{"id":6,"pos":[-1083.4879150390625,3465.081298828125],"linkIds":[335]},{"id":8,"pos":[-1214.98291015625,1791.26708984375],"linkIds":[374,433]}],"groupNodes":{"EmptyLatentImage":{"nodes":[{"type":"PrimitiveNode","pos":[432,480],"size":{"0":210,"1":82},"flags":{},"order":6,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[],"widget":{"name":"height"},"slot_index":0}],"title":"height","properties":{"Run widget replace on values":false},"color":"#323","bgcolor":"#535","index":0},{"type":"PrimitiveNode","pos":[672,480],"size":{"0":210,"1":82},"flags":{},"order":7,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[],"slot_index":0,"widget":{"name":"width"}}],"title":"width","properties":{"Run widget replace on values":false},"color":"#323","bgcolor":"#535","index":1},{"type":"EmptySD3LatentImage","pos":[480,624],"size":{"0":315,"1":106},"flags":{},"order":10,"mode":0,"inputs":[{"name":"width","type":"INT","link":null,"widget":{"name":"width"}},{"name":"height","type":"INT","link":null,"widget":{"name":"height"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"EmptySD3LatentImage"},"widgets_values":[1024,1024,1],"index":2}],"links":[[1,0,2,0,34,"INT"],[0,0,2,1,35,"INT"]],"external":[[0,0,"INT"],[1,0,"INT"],[2,0,"LATENT"]],"config":{"0":{"output":{"0":{"name":"height"}},"input":{"value":{"visible":true}}},"1":{"output":{"0":{"name":"width"}},"input":{"value":{"visible":true}}},"2":{"input":{"width":{"visible":false},"height":{"visible":false}}}}}}},"version":0.4}